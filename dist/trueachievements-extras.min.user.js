// ==UserScript==
// @name          TrueAchievements Extra
// @namespace     dynamite-andy
// @version       2.7.0
// @iconURL       https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon32x32.ico?raw=true
// @icon64URL     https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon64x64.ico?raw=true
// @updateURL     https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @downloadURL   https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @supportURL    https://github.com/andrewcartwright1/trueachievements-extra/issues
// @description   Provides a variety of extras for use on TrueAchievements
// @author        Dynamite Andy - dynamiteandy@gmail.com
// @match         http*://*.trueachievements.com/*
// @run-at        document-start
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_deleteValue
// @grant         GM_addStyle
// ==/UserScript==
(()=>{"use strict";var __webpack_modules__={"./node_modules/.pnpm/ajax-interceptor@1.0.1/node_modules/ajax-interceptor/index.js":(e,t)=>{var a=XMLHttpRequest.prototype.send,r=[],s=[],o=!1;function n(e,t){var a=e.indexOf(t);if(!(a>-1))throw new Error("Could not remove "+t+" from array");e.splice(a,1)}function i(e,t){for(var a=0;a<e.length;a++)e[a](t)}function l(e){4===e.readyState&&i(s,e)}function h(e){var t=e.onreadystatechange;t&&(e.onreadystatechange=function(){l(e),t()})}t.addRequestCallback=function(e){r.push(e)},t.removeRequestCallback=function(e){n(r,e)},t.addResponseCallback=function(e){s.push(e)},t.removeResponseCallback=function(e){n(s,e)},t.isWired=function(){return o},t.wire=function(){if(o)throw new Error("Ajax interceptor already wired");XMLHttpRequest.prototype.send=function(){if(i(r,this),this.addEventListener){var e=this;this.addEventListener("readystatechange",(function(){l(e)}),!1)}else h(this);a.apply(this,arguments)},o=!0},t.unwire=function(){if(!o)throw new Error("Ajax interceptor not currently wired");XMLHttpRequest.prototype.send=a,o=!1}},"./src/features/forum-improvements/walkthroughs/walkthroughs.hbs":(e,t,a)=>{a.d(t,{Z:()=>r});const r='<section class="purple js-ta-x-ask-loader-container ta-x-ask-loader-container js-ta-x-forum-improvements-walkthroughs-show-owner-progress ta-x-forum-improvements-walkthroughs-show-owner-progress"><div>Walkthrough Information</div><article><div class="ta-x-article-loader"><p>Please wait, loading.</p><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z" fill="currentColor"></path></svg></div><div class="js-ta-x-ask-loader-ask ta-x-ask-loader-ask ta-x-hide"><p>Can\'t automate them all sadly! Please enter a direct link to the walkthrough page to link this thread to the walkthrough, I\'ll remember it next time!</p><div><label class="small">Walkthrough Url</label><input class="textbox cs-n js-ta-x-ask-loader-ask-input" id="txtForumImprovementsWalkthroughsShowOwnerProgress" name="txtForumImprovementsWalkthroughsShowOwnerProgress"></div><input class="button js-ta-x-ask-loader-ask-button" id="btnForumImprovementsWalkthroughsShowOwnerProgressSave" name="btnForumImprovementsWalkthroughsShowOwnerProgressSave" type="submit" value="Save"></div></article></section>'},"./src/features/forum-improvements/walkthroughs/show-owner-progress.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _ta_x_globals__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/globals/index.ts"),_ta_x_utilities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utilities/index.ts"),_ta_x_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/helpers/index.ts"),_walkthroughs_hbs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/features/forum-improvements/walkthroughs/walkthroughs.hbs");let extensionBody,askForWalkthroughBody;const applyBody=async()=>{const e=(new DOMParser).parseFromString(_walkthroughs_hbs__WEBPACK_IMPORTED_MODULE_3__.Z,"text/html"),t=await(0,_ta_x_utilities__WEBPACK_IMPORTED_MODULE_1__.br)(".main aside"),a=await(0,_ta_x_utilities__WEBPACK_IMPORTED_MODULE_1__.br)("section:not(.smallpanel)",t);t.insertBefore(e.querySelector(`.${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressJs}`),a),extensionBody=t.querySelector(`.${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressJs}`),askForWalkthroughBody=extensionBody.querySelector(`.${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.Components.AskLoader.askJs}`),getAchievementWalkthroughUrl()},listen=()=>{const e=extensionBody.querySelector(`.${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.Components.AskLoader.buttonJs}`),t=extensionBody.querySelector(`.${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.Components.AskLoader.inputJs}`);e.addEventListener("click",(async e=>{if(e.target instanceof HTMLElement){e.preventDefault(),e.stopPropagation();try{if(""===t.value)return;if(!_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.Rv.Test.walkthroughUrl(t.value))return;toggleAskForWalkthrough(),await getOwnerProgress(t.value)}catch{return}}}))},getAchievementWalkthroughUrl=async()=>{const e=_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.Ct.walkthroughForumOwnerProgressUrl,t=new URLSearchParams(window.location.search).get("tid");let a=t?e.get(t):null;if(!a){if([...(await(0,_ta_x_utilities__WEBPACK_IMPORTED_MODULE_1__.br)(".posts")).querySelectorAll("li .body")].forEach((e=>{if(!a&&(_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.EP.discussWalkthrough.test(e.textContent)||_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.EP.walkthroughPublished.test(e.textContent))){const t=e.querySelector("a");if(t&&_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.Rv.Test.gameUrl(t.href))return a=t.href,void(a.endsWith("/walkthrough")||(a+="/walkthrough"))}})),!a)return void toggleAskForWalkthrough()}getOwnerProgress(a)},getOwnerProgress=async url=>{let walkthroughResponse=await(0,_ta_x_helpers__WEBPACK_IMPORTED_MODULE_2__.FS)(url),walkthroughDocument=(new DOMParser).parseFromString(walkthroughResponse,"text/html");const walkthroughEditors=walkthroughDocument.querySelector(".editors dl"),extensionArticle=extensionBody.querySelector("article");if(walkthroughEditors){const e=getGamersInvolved(walkthroughEditors),t=document.createElement("div");t.classList.add(_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressEditorWrapperStyle),t.append(...e),extensionArticle.appendChild(t);const a=walkthroughDocument.querySelector("aside .thanks");a&&extensionArticle.appendChild(a)}else{let walkthroughProgress=walkthroughDocument.querySelector("aside section .walthroughprogress");if(null===walkthroughProgress&&(url=`${url}?sbonly=1`,walkthroughResponse=await(0,_ta_x_helpers__WEBPACK_IMPORTED_MODULE_2__.FS)(url),walkthroughDocument=(new DOMParser).parseFromString(walkthroughResponse,"text/html"),walkthroughProgress=walkthroughDocument.querySelector("aside section .walthroughprogress"),null===walkthroughProgress))return void toggleAskForWalkthrough();extensionArticle.appendChild(walkthroughProgress);const fillCircleScript=extensionArticle.querySelector("script");fillCircleScript&&eval(fillCircleScript.innerHTML)}const cachedWalkthroughUrls=_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.Ct.walkthroughForumOwnerProgressUrl,threadId=new URLSearchParams(window.location.search).get("tid");threadId&&!cachedWalkthroughUrls.has(threadId)&&(cachedWalkthroughUrls.set(threadId,url),_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.Ct.walkthroughForumOwnerProgressUrl=cachedWalkthroughUrls),extensionBody.setAttribute("data-ta-x-loaded","true")},getGamersInvolved=e=>{let t=document.createElement("div");return t.classList.add(_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressEditorRowStyle),[...e.childNodes].reduce(((e,a,r,s)=>("DT"===a.tagName?(t.childElementCount>0&&(e.push(t),t=document.createElement("div"),t.classList.add(_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressEditorRowStyle)),t.innerHTML=a.innerHTML):"DD"===a.tagName&&(t.innerHTML+=`<div class="${_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.gT.Styles.ForumImprovements.Walkthroughs.showOwnerProgressEditorStyle}">${a.innerHTML}</div>`),r===s.length-1&&t.childElementCount>0&&e.push(t),e)),[])},toggleAskForWalkthrough=()=>{askForWalkthroughBody.classList.toggle("ta-x-hide"),askForWalkthroughBody.classList.contains("ta-x-hide")?extensionBody.removeAttribute("data-ta-x-loaded"):extensionBody.setAttribute("data-ta-x-loaded","true")},__WEBPACK_DEFAULT_EXPORT__=async()=>{if(!_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.i_.walkthroughs.showOwnerProgress)return;if(!_ta_x_globals__WEBPACK_IMPORTED_MODULE_0__.wC.Test.viewThreadUrlWithThreadId())return;const e=await(0,_ta_x_utilities__WEBPACK_IMPORTED_MODULE_1__.br)("#oMessageThread .pagetitle");e&&"walkthroughs"===e.innerText.toLowerCase()&&(await applyBody(),listen())}},"./src/globals/index.ts":(e,t,a)=>{a.d(t,{KH:()=>s.KH,rt:()=>s.rt,Ct:()=>o,gT:()=>G,wC:()=>s.wC,LG:()=>s.LG,Rv:()=>s.Rv,du:()=>s.du,EP:()=>s.EP,nW:()=>s.nW,EF:()=>Y,vc:()=>Z,kB:()=>J,i_:()=>F,TM:()=>K,rI:()=>Q,Tt:()=>z,bc:()=>X,TS:()=>s.TS,Ax:()=>V,Bb:()=>j,mg:()=>N,_A:()=>q,Vx:()=>R,uP:()=>U});var r=a("./src/utilities/date-util.ts"),s=a("./src/globals/regex.ts");class o{static get memoize(){const e=GM_getValue("memoized","");return 0!==e.length?new Map(JSON.parse(e)):new Map}static set memoize(e){GM_setValue("memoized",JSON.stringify(Array.from(e.entries())))}static get walkthroughForumOwnerProgressUrl(){const e=GM_getValue("walkthroughOwnerProgressUrl","");return 0!==e.length?new Map(JSON.parse(e)):new Map}static set walkthroughForumOwnerProgressUrl(e){GM_setValue("walkthroughOwnerProgressUrl",JSON.stringify(Array.from(e.entries())))}static get walkthroughPreviewWalkthroughId(){const e=GM_getValue("previewWalkthroughId","");return 0!==e.length?new Map(JSON.parse(e)):new Map}static set walkthroughPreviewWalkthroughId(e){GM_setValue("previewWalkthroughId",JSON.stringify(Array.from(e.entries())))}static get gameAchievementsDefaultStatusPathName(){return GM_getValue("gameAchievementsDefaultStatusPathName","")}static set gameAchievementsDefaultStatusPathName(e){GM_setValue("gameAchievementsDefaultStatusPathName",e)}static forceClear(){GM_deleteValue("memoized"),GM_deleteValue("walkthroughOwnerProgressUrl"),GM_deleteValue("previewWalkthroughId")}static clearExpired(){const e=Array.from(this.memoize.entries()).filter((e=>(0,r.c)(e[1].expiryTime)));this.memoize=new Map(e),s.Rv.Test.achievementsUrl()||GM_deleteValue("gameAchievementsDefaultStatusPathName")}static clearLegacy(){GM_deleteValue("trueachievements-extra-memoized")}}const n=e=>{const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()};var i,l,h,m,c,u,g,d,p,k,v,f,w,x,b,y,S,_,W,P,T,I,A,M,E,C,L;const B="ta-x",$="js-ta-x",D="--ta-x",O="ta-x-template";class G{}G.gamerId=n("GamerID"),G.Styles=((i=class{}).root="trueachievement-extras",i.Components=((l=class{}).accordion=`${$}-accordion`,l.askLoader=`${$}-ask-loader-container`,l.snackbar=`${$}-snackbar`,l.showSnackbar=`${B}-snackbar-show`,l.AskLoader=((h=class{}).featureJs=`${$}-ask-loader`,h.containerJs=`${h.featureJs}-container`,h.askJs=`${h.featureJs}-ask`,h.inputJs=`${h.askJs}-input`,h.buttonJs=`${h.askJs}-button`,h),l),i.Animations=((m=class{}).yShow=`${B}-y-show`,m.yHide=`${B}-y-hide`,m.yHideNoTransition=`${m.yHide}-no-transition`,m),i.Base=((c=class{}).hide=`${B}-hide`,c),i.SettingsMenu=((u=class{}).featureJs=`${$}-settings-menu`,u.featureStyle=`${B}-settings-menu`,u.subSetting=`${u.featureStyle}-sub-setting`,u.wrenchJs=`${u.featureJs}-wrench`,u.closeJs=`${u.featureJs}-close`,u.versionLink=`${u.featureJs}-version`,u.changelogView=`${u.featureJs}-changelog`,u.settingsView=`${u.featureJs}-settings`,u.settingsContentShow=`${u.featureStyle}-settings-item-show`,u),i.StickyHeader=((g=class{}).featureJs=`${$}-sticky-header`,g.featureStyle=`${B}-sticky-header`,g),i.NewsImprovements=((d=class{}).featureJs=`${$}-news-improvements`,d.featureStyle=`${B}-news-improvements`,d.Walkthroughs=((p=class{}).featureJs=`${$}-forum-improvements-walkthroughs`,p.featureStyle=`${B}-forum-improvements-walkthroughs`,p.showOwnerProgressJs=`${p.featureJs}-show-owner-progress`,p.showOwnerProgressStyle=`${p.featureStyle}-show-owner-progress`,p.showOwnerProgressEditorWrapperStyle=`${p.showOwnerProgressStyle}-editor-wrapper`,p.showOwnerProgressEditorRowStyle=`${p.showOwnerProgressStyle}-editor-row`,p.showOwnerProgressEditorStyle=`${p.showOwnerProgressStyle}-editor`,p.askForWalkthroughWalkthroughJs=`${p.showOwnerProgressJs}-ask-for-walkthrough`,p.saveWalkthroughInputJs=`${p.showOwnerProgressJs}-save-walkthrough-input`,p.saveWalkthroughButtonJs=`${p.showOwnerProgressJs}-save-walkthrough-button`,p),d),i.GamesImprovements=((k=class{}).featureJs=`${$}-games-improvements`,k.featureStyle=`${B}-games-improvements`,k.highlightGamesButtonJs=`${k.featureJs}-highlight-games-collection-button`,k),i.GamerImprovements=((v=class{}).featureJs=`${$}-gamer-improvements`,v.featureStyle=`${B}-gamer-improvements`,v.groupByGameButtonJs=`${v.featureJs}-group-by-game-button`,v),i.ForumImprovements=((f=class{}).featureJs=`${$}-forum-improvements`,f.featureStyle=`${B}-forum-improvements`,f.Walkthroughs=((w=class{}).featureJs=`${$}-forum-improvements-walkthroughs`,w.featureStyle=`${B}-forum-improvements-walkthroughs`,w.showOwnerProgressJs=`${w.featureJs}-show-owner-progress`,w.showOwnerProgressStyle=`${w.featureStyle}-show-owner-progress`,w.showOwnerProgressEditorWrapperStyle=`${w.showOwnerProgressStyle}-editor-wrapper`,w.showOwnerProgressEditorRowStyle=`${w.showOwnerProgressStyle}-editor-row`,w.showOwnerProgressEditorStyle=`${w.showOwnerProgressStyle}-editor`,w.askForWalkthroughWalkthroughJs=`${w.showOwnerProgressJs}-ask-for-walkthrough`,w.saveWalkthroughInputJs=`${w.showOwnerProgressJs}-save-walkthrough-input`,w.saveWalkthroughButtonJs=`${w.showOwnerProgressJs}-save-walkthrough-button`,w),f),i.StaffWalkthroughImprovements=((x=class{}).featureJs=`${$}-staff-walkthrough-improvements`,x.featureStyle=`${B}-staff-walkthrough-improvements`,x.WalkthroughPage=((b=class{}).featureJs=`${$}-staff-walkthrough-improvements-walkthrough-page`,b.featureStyle=`${B}-staff-walkthrough-improvements-walkthrough-page`,b.containerJs=`${b.featureJs}-container`,b.containerStyle=`${b.featureStyle}-container`,b.stickyPageHistoryJs=`${b.featureJs}-sticky-page-history`,b.stickyPageHistoryStyle=`${b.featureStyle}-sticky-page-history`,b.moveButtonsToLeftStyle=`${b.featureStyle}-move-buttons-to-left`,b.walkthroughTeamButtonJs=`${b.featureJs}-walkthrough-team-button`,b),x.ManageWalkthroughPage=((y=class{}).featureJs=`${$}-staff-walkthrough-improvements-manage-walkthrough-page`,y.featureStyle=`${B}-staff-walkthrough-improvements-manage-walkthrough-page`,y.containerJs=`${y.featureJs}-container`,y.containerStyle=`${y.featureStyle}-container`,y.clickableAchievementsJs=`${y.featureJs}-clickable-achievements`,y.missingButtonsContainerJs=`${y.featureJs}-missing-buttons-container`,y.addPageButtonJs=`${y.featureJs}-add-page-button`,y.previewButtonJs=`${y.featureJs}-preview-button`,y.viewContentButtonJs=`${y.featureJs}-view-content-button`,y.readyForReviewButtonJs=`${y.featureJs}-ready-for-review-button`,y),x.EditWalkthroughPage=((S=class{}).featureJs=`${$}-staff-walkthrough-improvements-edit-walkthrough-page`,S.featureStyle=`${B}-staff-walkthrough-improvements-edit-walkthrough-page`,S.containerJs=`${S.featureJs}-container`,S.containerStyle=`${S.featureStyle}-container`,S.improvedImageSelectorJs=`${S.featureJs}-improved-image-selector`,S.improvedImageSelectorStyle=`${S.featureStyle}-improved-image-selector`,S.improvedImageSelectorContainerJs=`${S.improvedImageSelectorJs}-container`,S.improvedImageSelectorContainerStyle=`${S.improvedImageSelectorStyle}-container`,S.improvedImageSelectorImageTitleJs=`${S.improvedImageSelectorJs}-image-title`,S.improvedImageSelectorImageTitleStyle=`${S.improvedImageSelectorStyle}-image-title`,S.themeToggleJs=`${S.featureJs}-theme-toggle`,S.themeToggleStyle=`${S.featureStyle}-theme-toggle`,S.themeToggleDarkStyle=`${S.themeToggleStyle}-dark`,S.themeToggleLightStyle=`${S.themeToggleStyle}-light`,S.stickyTinymceToolbarJs=`${S.featureJs}-sticky-tinymce-toolbar`,S.stickyTinymceToolbarStyles=`${S.featureStyle}-sticky-tinymce-toolbar`,S),x.WalkthroughPreview=((_=class{}).featureJs=`${$}-staff-walkthrough-improvements-walkthrough-preview`,_.featureStyle=`${B}-staff-walkthrough-improvements-walkthrough-preview`,_.populateAsideContentJs=`${_.featureJs}-populate-aside-content`,_.populateAsideContentWalkthroughPagesJs=`${_.populateAsideContentJs}-walkthrough-pages`,_.populateAsideContentWalkthroughThanksJs=`${_.populateAsideContentJs}-walkthrough-thanks`,_.populateAsideContentWalkthroughAchievementsJs=`${_.populateAsideContentJs}-walkthrough-achievements`,_),x),i.Variables=((W=class{}).StickyHeader=((P=class{}).featureVariableStylePrefix=`${D}-sticky-header`,P.height=`${P.featureVariableStylePrefix}-height`,P),W.StaffWalkthroughImprovements=((T=class{}).WalkthroughPage=((I=class{}).featureVariableStylePrefix=`${D}-staff-walkthrough-improvements-walkthrough-page`,I.stickyPageHistoryTop=`${I.featureVariableStylePrefix}-sticky-page-history-top`,I),T.EditWalkthroughPage=((A=class{}).featureVariableStylePrefix=`${D}-staff-walkthrough-improvements-edit-walkthrough-page`,A.stickyTinymceToolbarWidth=`${A.featureVariableStylePrefix}-sticky-tinymce-toolbar-width`,A.stickyTinymceToolbarTop=`${A.featureVariableStylePrefix}-sticky-tinymce-toolbar-top`,A.stickyTinymceToolbarFloatingMenu=`${A.featureVariableStylePrefix}-sticky-tinymce-toolbar-floating-menu`,A),T),W),i),G.Templates=((M=class{}).StaffWalkthroughImprovements=((E=class{}).ManageWalkthroughPage=((C=class{}).featureTemplatePrefix=`${O}-manage-walkthrough`,C.achievementRow=`${C.featureTemplatePrefix}-achievement-row`,C),E.WalkthroughPreview=((L=class{}).featureTemplatePrefix=`${O}-walkthrough-preview`,L.walkthroughPagesSummary=`${L.featureTemplatePrefix}-walkthrough-pages-summary`,L.walkthroughPagesNumbered=`${L.featureTemplatePrefix}-walkthrough-pages-numbered`,L.walkthroughPagesNumberedSelected=`${L.featureTemplatePrefix}-walkthrough-pages-numbered-selected`,L.walkthroughAchievements=`${L.featureTemplatePrefix}-walkthrough-achievements`,L),E),M);const H=(e,t,a)=>{const r=GM_getValue(t);if(void 0!==r)return r;const s=GM_getValue(e,a);return GM_setValue(t,s),GM_deleteValue(e),s},q={get enabled(){return H("trueachievements-extra-stickyHeader-enabled","stickyHeader-enabled",!1)},set enabled(e){GM_setValue("stickyHeader-enabled",e)},get remainStuck(){return GM_getValue("stickyHeader-remainStuck",!1)},set remainStuck(e){GM_setValue("stickyHeader-remainStuck",e)}},J={get improvedImageSelector(){return H("trueachievements-extra-staffWalkthroughImprovements-improvedImageSelector","improvedImageSelector",!1)},set improvedImageSelector(e){GM_setValue("improvedImageSelector",e)},get autoSaveNotification(){return GM_getValue("autoSaveNotification",!1)},set autoSaveNotification(e){GM_setValue("autoSaveNotification",e)},get tinymceTheme(){return H("trueachievements-extra-staffWalkthroughImprovements-tinymceTheme","tinymceTheme",null)},set tinymceTheme(e){GM_setValue("tinymceTheme",e)}},V={get manageWalkthroughDefaultStatus(){return H("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatus","manageWalkthroughDefaultStatus",!1)},set manageWalkthroughDefaultStatus(e){GM_setValue("manageWalkthroughDefaultStatus",e)},get clickableTableLinks(){return H("trueachievements-extra-staffWalkthroughImprovements-clickableTableLinks","clickableTableLinks",!1)},set clickableTableLinks(e){GM_setValue("clickableTableLinks",e)},get addMissingButtons(){return GM_getValue("addMissingButtons",!1)},set addMissingButtons(e){GM_setValue("addMissingButtons",e)},get autoSelectFirst(){return GM_getValue("autoSelectFirst",!1)},set autoSelectFirst(e){GM_setValue("autoSelectFirst",e)},get manageWalkthroughDefaultStatusValue(){return H("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatusValue","manageWalkthroughDefaultStatusValue","-1")},set manageWalkthroughDefaultStatusValue(e){GM_setValue("manageWalkthroughDefaultStatusValue",e)}},R={get stickyPageHistory(){return H("trueachievements-extra-staffWalkthroughImprovements-stickyPageHistory","stickyPageHistory",!1)},set stickyPageHistory(e){GM_setValue("stickyPageHistory",e)},get moveButtonsToLeft(){return H("trueachievements-extra-staffWalkthroughImprovements-editPageLeft","moveButtonsToLeft",!1)},set moveButtonsToLeft(e){GM_setValue("moveButtonsToLeft",e)},get walkthroughTeamButton(){return H("trueachievements-extra-staffWalkthroughImprovements-walkthroughTeamButton","walkthroughTeamButton",!1)},set walkthroughTeamButton(e){GM_setValue("walkthroughTeamButton",e)},get highlightPageLocked(){return GM_getValue("highlightPageLocked",!1)},set highlightPageLocked(e){GM_setValue("highlightPageLocked",e)}},U={get populateAsideContent(){return GM_getValue("populateAsideContent",!1)},set populateAsideContent(e){GM_setValue("populateAsideContent",e)}},N={get enabled(){return H("trueachievements-extra-staffWalkthroughImprovements-enabled","staffWalkthroughImprovements-enabled",!1)},set enabled(e){GM_setValue("staffWalkthroughImprovements-enabled",e)},editWalkthrough:J,manageWalkthrough:V,walkthroughPage:R,walkthroughPreview:U},F={get enabled(){return GM_getValue("forumImprovements-enabled",!1)},set enabled(e){GM_setValue("forumImprovements-enabled",e)},walkthroughs:{get showOwnerProgress(){return GM_getValue("showOwnerProgress",!1)},set showOwnerProgress(e){GM_setValue("showOwnerProgress",e)}}},j={get enabled(){return GM_getValue("newsImprovements-enabled",!1)},set enabled(e){GM_setValue("newsImprovements-enabled",e)},sales:{get autoSortBy(){return GM_getValue("autoSortBy",!1)},set autoSortBy(e){GM_setValue("autoSortBy",e)},get autoSortByValue(){const e=GM_getValue("autoSortByValue","");return 0!==e.length?JSON.parse(e):["product","game"]},set autoSortByValue(e){GM_setValue("autoSortByValue",JSON.stringify(e))},get autoSortByOrder(){return GM_getValue("autoSortByOrder","asc")},set autoSortByOrder(e){GM_setValue("autoSortByOrder",e)}}},z={get addHighlightGamesNotInCollectionButton(){return GM_getValue("addHighlightGamesNotInCollectionButton-enabled",!1)},set addHighlightGamesNotInCollectionButton(e){GM_setValue("addHighlightGamesNotInCollectionButton-enabled",e)}},K={get gameAchievementsDefaultStatus(){return GM_getValue("gameAchievementsDefaultStatus",!1)},set gameAchievementsDefaultStatus(e){GM_setValue("gameAchievementsDefaultStatus",e)},get gameAchievementsDefaultStatusValue(){return GM_getValue("gameAchievementsDefaultStatusValue","rdoAllAchievements")},set gameAchievementsDefaultStatusValue(e){GM_setValue("gameAchievementsDefaultStatusValue",e)}},X={get enabled(){return GM_getValue("gamesImprovements-enabled",!1)},set enabled(e){GM_setValue("gamesImprovements-enabled",e)},games:z,achievements:K},Y={get addGroupByGameButton(){return GM_getValue("addGroupByGameButton-enabled",!1)},set addGroupByGameButton(e){GM_setValue("addGroupByGameButton-enabled",e)}},Q={get enabled(){return GM_getValue("gamerImprovements-enabled",!1)},set enabled(e){GM_setValue("gamerImprovements-enabled",e)},achievements:Y},Z={stickyHeader:q,staffWalkthroughImprovements:N,forumImprovements:F,newsImprovements:j,gamesImprovements:X,gamerImprovements:Q}},"./src/globals/regex.ts":(e,t,a)=>{a.d(t,{BL:()=>L,EP:()=>B,KH:()=>P,LG:()=>I,Rv:()=>T,TS:()=>r,du:()=>C,nW:()=>M,rt:()=>A,wC:()=>E});const r=(e,t=[])=>{t=Array.isArray(t)?t:[t];try{const a=new URL(e);let r="";for(let e=0;e<t.length;e++)a[t[e]]&&(r+=a[t[e]]);return r}catch(t){throw`${e} is not a valid url`}},s=new RegExp("^/a[0-9]*/.*","i"),o=new RegExp("^/a[0-9]*/.*\\?gamerid=[0-9]*","i"),n=new RegExp("^/game/.*/achievements$","i"),i=new RegExp("^/game/.*/achievements\\?gamerid=[0-9]*","i"),l=new RegExp("^/game/.*/walkthrough$","i"),h=new RegExp("^/games.aspx","i"),m=new RegExp("^/game/.*$","i"),c=new RegExp("^/staff/walkthrough/editwalkthroughpage.aspx","i"),u=new RegExp("^/staff/walkthrough/managewalkthrough.aspx","i"),g=new RegExp("^/staff/walkthrough/managewalkthrough.aspx\\?walkthroughid=[0-9]*","i"),d=new RegExp("^/staff/walkthrough/walkthroughpage.aspx","i"),p=new RegExp("^/staff/walkthrough/walkthroughpreview.aspx","i"),k=new RegExp("^/staff/walkthrough/walkthroughpreview.aspx\\?walkthroughid=[0-9]*","i"),v=new RegExp("^/staff/walkthrough/walkthroughpagepreview.aspx","i"),f=new RegExp("^/staff/walkthrough/walkthroughpagepreview.aspx\\?pageid=[0-9]*","i"),w=new RegExp("^/ajaxfunctions.aspx/AutoSave","i"),x=new RegExp("^/forum/forums.aspx","i"),b=new RegExp("^/forum/viewboard.aspx\\?messageboardid=[0-9]*","i"),y=new RegExp("^/forum/viewthread.aspx\\?tid=[0-9]*","i"),S=new RegExp("^/n[0-9]*/*","i"),_=new RegExp("^/gamer/.*$","i"),W=new RegExp("^/gamer/.*/achievements$","i"),P={achievementUrl:s,achievementUrlWithGamerId:o,Test:{achievementUrl:(e=window.location.href)=>s.test(r(e,"pathname")),achievementUrlWithGamerId:(e=window.location.href)=>o.test(r(e,["pathname","search"]))}},T={achievementsUrl:n,achievementsUrlWithGamerId:i,gameUrl:m,gamesUrl:h,walkthroughUrl:l,Test:{achievementsUrl:(e=window.location.href)=>n.test(r(e,"pathname")),achievementsUrlWithGamerId:(e=window.location.href)=>i.test(r(e,["pathname","search"])),gameUrl:(e=window.location.href)=>m.test(r(e,"pathname")),gamesUrl:(e=window.location.href)=>h.test(r(e,"pathname")),walkthroughUrl:(e=window.location.href)=>l.test(r(e,"pathname"))}},I={gamerUrl:_,gamerAchievementsUrl:W,Test:{all:(e=window.location.href)=>_.test(r(e,"pathname"))||W.test(r(e,"pathname")),gamerUrl:(e=window.location.href)=>_.test(r(e,"pathname")),gamerAchievementsUrl:(e=window.location.href)=>W.test(r(e,"pathname"))}},A={autosave:w,Test:{autosave:(e=window.location.href)=>w.test(r(e,"pathname"))}},M={Walkthroughs:{editWalkthroughUrl:c,manageWalkthroughUrl:u,manageWalkthroughUrlWithWalkthroughId:g,walkthroughPageUrl:d,walkthroughPreviewUrl:p,walkthroughPreviewUrlWithWalkthroughId:k,walkthroughPagePreviewUrl:v,walkthroughPagePreviewUrlWithPageId:f,Test:{all:(e=window.location.href)=>c.test(r(e,"pathname"))||u.test(r(e,"pathname"))||d.test(r(e,"pathname"))||p.test(r(e,"pathname"))||v.test(r(e,"pathname")),preview:(e=window.location.href)=>p.test(r(e,"pathname"))||v.test(r(e,"pathname")),editWalkthroughUrl:(e=window.location.href)=>c.test(r(e,"pathname")),manageWalkthroughUrl:(e=window.location.href)=>u.test(r(e,"pathname")),manageWalkthroughUrlWithWalkthroughId:(e=window.location.href)=>g.test(r(e,["pathname","search"])),walkthroughPageUrl:(e=window.location.href)=>d.test(r(e,"pathname")),walkthroughPreviewUrl:(e=window.location.href)=>p.test(r(e,"pathname")),walkthroughPreviewUrlWithWalkthroughId:(e=window.location.href)=>k.test(r(e,["pathname","search"])),walkthroughPagePreviewUrl:(e=window.location.href)=>v.test(r(e,"pathname")),walkthroughPagePreviewUrlWithPageId:(e=window.location.href)=>f.test(r(e,["pathname","search"]))}}},E={forumsUrl:x,viewBoardUrlWithBoardId:b,viewThreadUrlWithThreadId:y,Test:{all:(e=window.location.href)=>x.test(r(e,"pathname"))||b.test(r(e,["pathname","search"]))||y.test(r(e,["pathname","search"])),forumsUrl:(e=window.location.href)=>x.test(r(e,"pathname")),viewBoardUrlWithBoardId:(e=window.location.href)=>b.test(r(e,["pathname","search"])),viewThreadUrlWithThreadId:(e=window.location.href)=>y.test(r(e,["pathname","search"]))}},C={newsUrl:S,Test:{newsUrl:(e=window.location.href)=>S.test(r(e,"pathname"))}},L={today:new RegExp("Today","i"),yesterday:new RegExp("Yesterday","i")},B={discussWalkthrough:new RegExp("^Please use this thread to discuss the .* walkthrough?.$"),walkthroughPublished:new RegExp("^The walkthrough has now been published.(?:\\n\\n)?You can find it here: .* Walkthrough?.$")}},"./src/helpers/index.ts":(e,t,a)=>{a.d(t,{vN:()=>k,Nu:()=>v,FS:()=>i,XK:()=>h,C4:()=>m,Dc:()=>c});var r=a("./src/globals/index.ts");class s{constructor(e){e=e||{deleteAfter:{value:7,period:"days"}};const t=new Date;switch(e.deleteAfter.period){case"seconds":this.expiryTime=new Date(t.setSeconds(t.getSeconds()+e.deleteAfter.value));break;case"minutes":this.expiryTime=new Date(t.setMinutes(t.getMinutes()+e.deleteAfter.value));break;case"hours":this.expiryTime=new Date(t.setHours(t.getHours()+e.deleteAfter.value));break;case"days":this.expiryTime=new Date(t.setDate(t.getDate()+e.deleteAfter.value))}}setResponse(e){return this.response=e,this}fromString(e){try{const t=JSON.parse(e);this.expiryTime=t.expiryTime,this.response=t.response}catch(e){}}toString(){return JSON.stringify(this)}}var o=a("./src/utilities/date-util.ts");const n=r.Ct.memoize,i=async(e,t={},a)=>{const i=n.get(e);if(i&&(0,o.c)(new Date(i.expiryTime)))return i.response;const l=await(async(e,t={})=>(t.headers=t.headers||new Headers,t.method=t.method?t.method.toUpperCase():"GET",await fetch(e,t)))(e,t),h=await l.text();return n.set(e,new s(a).setResponse(h)),r.Ct.memoize=n,h},l=document.createElement("template"),h=(e,t={})=>{const{element:a,urls:r,populateAsideContentPreviewPage:s,populateAsideContentPreviewAchievement:o,populateAsideContentPreviewThanks:n}=t;l.appendChild(e),l.innerHTML=e.outerHTML.replace(/(\r\n|\n|\r)/gm,"").replace(/{GM_info.script.version}/g,GM_info.script.version||"").replace(/{element.title}/g,a?.title||"").replace(/{urls.walkthroughPreviewWithWalkthroughId}/g,r?.walkthroughPreviewWithWalkthroughId||"").replace(/{urls.walkthroughPreviewWithPageId}/g,r?.walkthroughPreviewWithPageId||"").replace(/{urls.walkthroughPreviewWithPageIdAndAchievementId}/g,r?.walkthroughPreviewWithPageIdAndAchievementId||"").replace(/{populateAsideContentPreviewPage.index}/g,s?.index.toString()||"").replace(/{populateAsideContentPreviewPage.title}/g,s?.title||"").replace(/{populateAsideContentPreviewPage.id}/g,s?.id||"").replace(/{populateAsideContentPreviewAchievement.title}/g,o?.title||"").replace(/{populateAsideContentPreviewAchievement.id}/g,o?.id||"").replace(/{populateAsideContentPreviewAchievement.description}/g,o?.description||"").replace(/{populateAsideContentPreviewAchievement.src}/g,o?.src||"").replace(/{populateAsideContentPreviewThanks.total}/g,n?.total||"").replace(/{populateAsideContentPreviewThanks.thread}/g,n?.thread||"").replace(/{element.outerHTML}/g,a?.outerHTML||"");const i=l.content.firstChild;return l.innerHTML="",i},m=async(e,t=1e4)=>new Promise((a=>{const r=new Date,s=setInterval((()=>{e()?(clearInterval(s),a(!0)):+new Date-+r>t&&(clearInterval(s),a(!1))}),20)})),c=async(e=250)=>new Promise((t=>setTimeout(t,e)));var u=a("./src/utilities/html-element-util.ts");const g=r._A.enabled,d=r._A.remainStuck;let p;const k=async(e,t,a,s={})=>{let o;await(async()=>{p||(p=g?await(0,u.br)(`.${r.gT.Styles.StickyHeader.featureJs}`):await(0,u.br)(".header"))})();let n=[r.gT.Styles.Animations.yShow,r.gT.Styles.Animations.yHide,r.gT.Styles.Animations.yHideNoTransition],i=s.paddingFromTop||0;const l=a.getBoundingClientRect().top;l>0?i=0:(i+=s.isRelativeToParent?0:Math.abs(l),g&&(i+=p.offsetHeight,p.classList.contains(r.gT.Styles.Animations.yShow)||d?(o=r.gT.Styles.Animations.yShow,n=[r.gT.Styles.Animations.yHide,r.gT.Styles.Animations.yHideNoTransition]):(o=s.noTransitionStyle?r.gT.Styles.Animations.yHideNoTransition:r.gT.Styles.Animations.yHide,n=[r.gT.Styles.Animations.yShow]))),document.documentElement.style.setProperty(e,`${i}px`),t.classList.remove(...n),o&&t.classList.add(o)},v=(e,t,a)=>{const r=Object.assign({bubbles:!0,cancelable:"click"===e,detail:null},a);if(r.detail)if("function"==typeof CustomEvent)t.dispatchEvent(new CustomEvent(e,r));else{const a=document.createEvent("CustomEvent");a.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),t.dispatchEvent(a)}else if("function"==typeof Event)t.dispatchEvent(new Event(e,r));else{const a=document.createEvent("Event");a.initEvent(e,r.bubbles,r.cancelable),t.dispatchEvent(a)}}},"./src/utilities/date-util.ts":(e,t,a)=>{a.d(t,{J:()=>s,c:()=>o});const r=e=>"string"==typeof e?new Date(e):e,s=e=>"invalid date"!==new Date(r(e)).toString().toLowerCase(),o=e=>new Date<r(e)},"./src/utilities/html-element-util.ts":(e,t,a)=>{a.d(t,{HM:()=>i,PT:()=>s,Wi:()=>r,br:()=>n,gz:()=>o});const r=e=>"SELECT"===e.nodeName,s=e=>"INPUT"===e.nodeName&&"checkbox"===e.type,o=(e,t)=>{const a=Array.isArray(t)?t:[t];for(let t=0;t<a.length;t++)if(e.classList.contains(a[t]))return!0;return!1},n=(e,t=document.documentElement,a=1e4)=>new Promise((r=>{if(null===t)return null;if(t===document.documentElement&&(t=document.documentElement),t.querySelector(e))return r(t.querySelector(e));let s;const o=setTimeout((()=>{s.disconnect(),r(null)}),a);s=new MutationObserver((()=>{t.querySelector(e)&&(s.disconnect(),clearTimeout(o),r(t.querySelector(e)))})),s.observe(t,{childList:!0,subtree:!0})})),i=e=>{const t=e.getBoundingClientRect(),a=document.body,r=document.documentElement,s=window.pageYOffset||r.scrollTop||a.scrollTop,o=window.pageXOffset||r.scrollLeft||a.scrollLeft,n=r.clientTop||a.clientTop||0,i=r.clientLeft||a.clientLeft||0,l=t.top+s-n,h=t.left+o-i;return{top:Math.round(l),left:Math.round(h)}}},"./src/utilities/index.ts":(e,t,a)=>{a.d(t,{Eh:()=>n,gz:()=>s.gz,QF:()=>i.QF,_o:()=>i._o,VB:()=>r,HM:()=>s.HM,NA:()=>l,PT:()=>s.PT,Wi:()=>s.Wi,sO:()=>h,AM:()=>i.AM,Hq:()=>i.Hq,br:()=>s.br});const r=(e,t=!1)=>t?[...new Set(e.filter(((e,t,a)=>a.indexOf(e)!==t)))]:e.filter(((e,t,a)=>a.indexOf(e)!==t));var s=a("./src/utilities/html-element-util.ts");const o=e=>()=>new Promise((t=>e((e=>t(e))))),n=async(e,t,a=3)=>{if(0===t.length)return Promise.resolve([]);let r=0;const s=[],n=async()=>{for(;r<t.length;){const e=r++,a="Function"===t[e].task.constructor.name?o(t[e].task):t[e].task;s[e]=await a()}},i=[];for(let e=0;e<a;e++)i.push(n());return await Promise.all(i),s};var i=a("./src/utilities/string-util.ts");const l=(e,t,a)=>t.split(".").reduce(((e,t)=>e?e[t]:a),e),h=(e,t,a)=>t.split(".").reduce(((e,r,s)=>e[r]=t.split(".").length===++s?a:e[r]||{}),e)},"./src/utilities/string-util.ts":(e,t,a)=>{a.d(t,{AM:()=>o,Hq:()=>s,QF:()=>i,_o:()=>n});a("./src/globals/regex.ts"),a("./src/utilities/date-util.ts");const r=new Date((new Date).setHours(0,0,0,0)),s=(new Date(new Date(r).setDate(r.getDate()-1)),e=>{if("string"==typeof e){const t=parseInt(e.replace(/,/g,""),10);return isNaN(t)?null:t}return"boolean"==typeof e?e?1:0:"number"==typeof e?e:null}),o=e=>"string"==typeof e?"true"===e.toLowerCase()||"false"!==e.toLowerCase()&&null:"number"==typeof e?1===e||0!==e&&null:"boolean"==typeof e?e:null,n=(e,t)=>{const a=new RegExp(`${e}(.*?)${e}`),r=t.match(a);return r?r[1]:t},i=(e,t)=>{const a=new RegExp(`${e}(.*?)${e}`,"g"),r=t.match(a);return r?r.map((t=>t.replace(e,""))):[t]}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{var e=__webpack_require__("./node_modules/.pnpm/ajax-interceptor@1.0.1/node_modules/ajax-interceptor/index.js"),t=__webpack_require__("./src/globals/index.ts"),a=__webpack_require__("./src/utilities/index.ts");const r=function(){const e={};return{publish:(t,a)=>{(e[t]??[]).forEach((e=>e(a)))},subscribe:(t,a)=>{const r=e[t]??[];return r.push(a),e[t]=r,a},unsubscribe:(t,a)=>{let r=e[t]??[];r=r.filter((e=>e!==a)),e[t]=r}}}();var s=__webpack_require__("./src/helpers/index.ts");const o=()=>{document.addEventListener("click",(({target:e})=>{if(!(e instanceof HTMLElement))return;if(!e.classList.contains(t.gT.Styles.Components.accordion))return;if(e.classList.toggle("expanded"),e.hasAttribute("data-checkbox-accordion")){const t=e.querySelector("input");t.checked=e.classList.contains("expanded"),(0,s.Nu)("change",t)}const r=e.nextElementSibling,o=r.style.maxHeight?-r.scrollHeight:r.scrollHeight;r.style.maxHeight?r.style.maxHeight=null:r.style.maxHeight=`${r.scrollHeight}px`;const n=e.closest("[data-parent-accordion-body]");n&&(n.style.maxHeight=`${(0,a.Hq)(n.style.maxHeight)+o}px`)})),r.subscribe("accordion:setMaxHeight",(e=>{e.style.maxHeight&&(e.style.maxHeight=`${e.scrollHeight}px`)})),r.subscribe("accordion:toggleState",(e=>{e.classList.toggle("expanded");const t=e.nextElementSibling;t.style.maxHeight=`${t.scrollHeight}px`}))};var n=__webpack_require__("./src/utilities/html-element-util.ts");const i=async()=>{if(!await(0,n.br)("body"))return;const e=(new DOMParser).parseFromString('<div class="ta-x-snackbar js-ta-x-snackbar"><h2></h2></div>',"text/html");document.body.appendChild(e.querySelector(`.${t.gT.Styles.Components.snackbar}`));const a=document.querySelector(`.${t.gT.Styles.Components.snackbar}`),s=a.querySelector("h2");r.subscribe("snackbar:show",(({text:e,type:r})=>{a&&(s.innerText=e,s.classList.add(r),a.classList.toggle(t.gT.Styles.Components.showSnackbar),setTimeout((()=>{a.classList.toggle(t.gT.Styles.Components.showSnackbar),s.classList.remove(r)}),3e3))}))};var l=__webpack_require__("./src/utilities/string-util.ts");class h{constructor(e){this.fromString(e)}fromString(e){try{const t=JSON.parse(e);this.selector=t.selector,this.checked=t.checked?(0,l.AM)(t.checked):null,this.value=t.value?t.value.split(","):null}catch(e){this.selector=null,this.checked=null,this.value=null}}isValid(){return null!==this.selector&&(null!==this.checked||null!==this.value)}toString(){return JSON.stringify(this)}}let m;const c=()=>{m=document.querySelector(`.${t.gT.Styles.SettingsMenu.featureJs}`),[...m.querySelectorAll("input, select")].forEach((e=>{const r=e.getAttribute("data-config-path");r&&((0,a.PT)(e)?e.checked=(0,a.NA)(t.vc,r,!1):(0,a.Wi)(e)&&((0,a.AM)(e.getAttribute("data-is-array"))?e.value=(0,a.NA)(t.vc,r,[]).join(e.getAttribute("data-array-split")):e.value=(0,a.NA)(t.vc,r,"")))})),u()},u=e=>{const r=e?`[data-render-condition*="#${e.id}"]`:"[data-render-condition]";[...m.querySelectorAll(r)].forEach((e=>{const r=new h(e.getAttribute("data-render-condition"));if(!r.isValid())return;const s=m.querySelector(r.selector);let o=null;(0,a.PT)(s)?o=s.checked===r.checked?"remove":"add":(0,a.Wi)(s)&&(o=(0,a.AM)(s.getAttribute("data-is-array"))?r.value.some((e=>s.value.split(s.getAttribute("data-array-split")).includes(e)))?"remove":"add":r.value.includes(s.value)?"remove":"add"),o&&e.classList[o](t.gT.Styles.Base.hide)}))},g=()=>{const e=document.querySelector(`.${t.gT.Styles.SettingsMenu.wrenchJs}`);e.addEventListener("click",(()=>{e.classList.add("active"),m.classList.add("nav-gamer"),m.classList.remove(t.gT.Styles.Base.hide),m.classList.add("open"),m.hasAttribute("data-previously-opened")||(m.setAttribute("data-previously-opened",""),[...m.querySelectorAll("[data-checkbox-accordion] input")].forEach((e=>{if((0,a.PT)(e)){const t=e.checked,a=e.closest(".js-ta-x-accordion");t&&a&&r.publish("accordion:toggleState",a)}})))})),m.addEventListener("click",(({target:a})=>{a instanceof HTMLElement&&a.classList.contains(t.gT.Styles.SettingsMenu.closeJs)&&(m.classList.remove("open"),m.classList.add(t.gT.Styles.Base.hide),m.classList.remove("nav-gamer"),e.classList.remove("active"))})),m.addEventListener("click",(({target:e})=>{e instanceof HTMLElement&&e.classList.contains(t.gT.Styles.SettingsMenu.versionLink)&&(m.querySelector(`.${t.gT.Styles.SettingsMenu.changelogView}`).classList.toggle(t.gT.Styles.SettingsMenu.settingsContentShow),m.querySelector(`.${t.gT.Styles.SettingsMenu.settingsView}`).classList.toggle(t.gT.Styles.SettingsMenu.settingsContentShow))})),m.addEventListener("change",(({target:e})=>{if(!(e instanceof HTMLElement))return;const s=e.getAttribute("data-config-path");(0,a.Wi)(e)?(0,a.AM)(e.getAttribute("data-is-array"))?(0,a.sO)(t.vc,s,e.value.split(e.getAttribute("data-array-split"))):(0,a.sO)(t.vc,s,e.value):(0,a.PT)(e)&&(0,a.sO)(t.vc,s,e.checked),u(e);let o=e.closest(".ta-x-settings-menu-settings-accordion-body");o&&r.publish("accordion:setMaxHeight",o),setTimeout((()=>{o=e.closest("[data-parent-accordion-body]"),o&&r.publish("accordion:setMaxHeight",o)}),500)}))},d=async()=>{await(async()=>{const e=(new DOMParser).parseFromString('<div class="js-ta-x-settings-menu-wrench gamer-page" aria-haspopup="true"><i class="fa fa-wrench"></i></div><div class="js-ta-x-settings-menu ta-x-settings-menu ta-x-hide"><div class="middle"><div class="wrap"><div class="labels"><label class="js-ta-x-settings-menu-close close"><i class="fa fa-close"></i></label></div><div class="contents"><div class="contents open ta-x-settings-menu-settings"><div class="t-settings js-ta-x-settings-menu-settings ta-x-settings-menu-settings-item ta-x-settings-menu-settings-item-show"><div class="ta-x-checkbox" data-render-condition><label>Sticky Header</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="stickyHeader.enabled" id="chkStickyHeader" name="chkStickyHeader" type="checkbox"><label for="chkStickyHeader"></label></div><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#chkStickyHeader", "checked": true }\'>This feature may cause some sticky elements to look buggy. Let me know what you spot!</p></div><div class="ta-x-checkbox ta-x-hide" data-render-condition=\'{ "selector": "#chkStickyHeader", "checked": true }\'><label>Remain Stuck</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="stickyHeader.remainStuck" id="chkStickyHeaderRemainStuck" name="chkStickyHeaderRemainStuck" type="checkbox"><label for="chkStickyHeaderRemainStuck"></label></div></div><div class="ta-x-settings-menu-settings-accordion"><div class="ta-x-checkbox ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed" data-checkbox-accordion><label>Forum Improvements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="forumImprovements.enabled" id="chkForumImprovements" name="chkForumImprovements" type="checkbox"><label for="chkForumImprovements"></label></div></div><div class="ta-x-settings-menu-settings-accordion-body t-settings" data-parent-accordion-body><div data-render-condition=\'{ "selector": "#chkForumImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Walkthroughs</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-checkbox" data-render-condition><label>Show Owner/Progress</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="forumImprovements.walkthroughs.showOwnerProgress" id="chkForumImprovementsShowOwnerProgress" name="chkForumImprovementsShowOwnerProgress" type="checkbox"><label for="chkForumImprovementsShowOwnerProgress"></label></div></div></div></div></div></div><div class="ta-x-settings-menu-settings-accordion"><div class="ta-x-checkbox ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed" data-checkbox-accordion><label>Gamer Improvements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="gamerImprovements.enabled" id="chkGamerImprovements" name="chkGamerImprovements" type="checkbox"><label for="chkGamerImprovements"></label></div></div><div class="ta-x-settings-menu-settings-accordion-body t-settings" data-parent-accordion-body><div class="ta-x-checkbox" data-render-condition><label>Add Group By Game Button</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="gamerImprovements.achievements.addGroupByGameButton" id="chkGamerImprovementsGroupByGameButton" name="chkGamerImprovementsGroupByGameButton" type="checkbox"><label for="chkGamerImprovementsGroupByGameButton"></label></div><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#chkGamerImprovementsGroupByGameButton", "checked": true }\'>This feature is unstyled, let me know if you have any ideas for how to make this look!</p></div></div></div><div class="ta-x-settings-menu-settings-accordion"><div class="ta-x-checkbox ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed" data-checkbox-accordion><label>Games Improvements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="gamesImprovements.enabled" id="chkGamesImprovements" name="chkGamesImprovements" type="checkbox"><label for="chkGamesImprovements"></label></div></div><div class="ta-x-settings-menu-settings-accordion-body t-settings" data-parent-accordion-body><div class="ta-x-checkbox" data-render-condition><label>Add Highlight Games Not In Collection Button</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="gamesImprovements.games.addHighlightGamesNotInCollectionButton" id="chkGamesImprovementsHighlightGamesNotInCollectionButton" name="chkGamesImprovementsHighlightGamesNotInCollectionButton" type="checkbox"><label for="chkGamesImprovementsHighlightGamesNotInCollectionButton"></label></div><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#chkGamesImprovementsHighlightGamesNotInCollectionButton", "checked": true }\'>This feature is unstyled, let me know if you have any ideas for how to make this look!</p></div><div data-render-condition=\'{ "selector": "#chkGamesImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Achievements</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-settings-menu-columned-setting"><div class="ta-x-checkbox" data-render-condition><label>Default Status for Game Achievements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="gamesImprovements.achievements.gameAchievementsDefaultStatus" id="chkGamesImprovementsGameAchievementsDefaultStatus" name="chkGamesImprovementsGameAchievementsDefaultStatus" type="checkbox"><label for="chkGamesImprovementsGameAchievementsDefaultStatus"></label></div></div><div class="frm-grp frm-sel ta-x-hide" data-render-condition=\'{ "selector": "#chkGamesImprovementsGameAchievementsDefaultStatus", "checked": true }\'><select class="dropdown" data-array-split data-config-path="gamesImprovements.achievements.gameAchievementsDefaultStatusValue" data-is-array="false" id="selGamesImprovementsGameAchievementsDefaultStatusValue" name="selGamesImprovementsGameAchievementsDefaultStatusValue"><option selected="selected" value="rdoAllAchievements">All</option><option selected="selected" value="rdoWonAchievements">Won</option><option selected="selected" value="rdoNotWonAchievements">Not Won</option></select></div></div></div></div></div></div><div class="ta-x-settings-menu-settings-accordion"><div class="ta-x-checkbox ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed" data-checkbox-accordion><label>News Improvements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="newsImprovements.enabled" id="chkNewsImprovements" name="chkNewsImprovements" type="checkbox"><label for="chkNewsImprovements"></label></div></div><div class="ta-x-settings-menu-settings-accordion-body t-settings" data-parent-accordion-body><div data-render-condition=\'{ "selector": "#chkNewsImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Sales</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-settings-menu-columned-setting"><div class="ta-x-checkbox" data-render-condition><label>Sort Sales By</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="newsImprovements.sales.autoSortBy" id="chkNewsImprovementsSalesAutoSortBy" name="chkNewsImprovementsSalesAutoSortBy" type="checkbox"><label for="chkNewsImprovementsSalesAutoSortBy"></label></div></div><div class="frm-grp frm-sel ta-x-hide" data-render-condition=\'{ "selector": "#chkNewsImprovementsSalesAutoSortBy", "checked": true }\'><select class="dropdown" data-array-split="," data-config-path="newsImprovements.sales.autoSortByValue" data-is-array="true" id="selNewsImprovementsSalesAutoSortByValue" name="selNewsImprovementsSalesAutoSortByValue"><option selected="selected" value="product,game">Product</option><option selected="selected" value="sale-price">Sale Price</option><option selected="selected" value="discount">Discount</option><option selected="selected" value="completion-time">Completion Time</option><option selected="selected" value="ta-ratio">TA Ratio</option></select></div><div data-render-condition=\'{ "selector": "#chkNewsImprovementsSalesAutoSortBy", "checked": true }\' class="ta-x-hide"><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#selNewsImprovementsSalesAutoSortByValue", "value": "completion-time,ta-ratio" }\'>This option may not work on some tables. Let me know what you spot!</p></div><div class="frm-grp frm-sel ta-x-hide" data-render-condition=\'{ "selector": "#chkNewsImprovementsSalesAutoSortBy", "checked": true }\'><select class="dropdown" data-array-split data-config-path="newsImprovements.sales.autoSortByOrder" data-is-array="false" id="selNewsImprovementsSalesAutoSortByOrder" name="selNewsImprovementsSalesAutoSortByOrder"><option selected="selected" value="asc">Ascendening</option><option selected="selected" value="desc">Descending</option></select></div></div></div></div></div></div><div class="ta-x-settings-menu-settings-accordion"><div class="ta-x-checkbox ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed" data-checkbox-accordion><label>Staff Walkthrough Improvements</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.enabled" id="chkStaffWalkthroughImprovements" name="chkStaffWalkthroughImprovements" type="checkbox"><label for="chkStaffWalkthroughImprovements"></label></div></div><div class="ta-x-settings-menu-settings-accordion-body t-settings" data-parent-accordion-body><div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Edit Walkthrough</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-checkbox" data-render-condition><label>Improved Image Selector</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.editWalkthrough.improvedImageSelector" id="chkStaffWalkthroughImprovementsImproveImageSelector" name="chkStaffWalkthroughImprovementsImproveImageSelector" type="checkbox"><label for="chkStaffWalkthroughImprovementsImproveImageSelector"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Auto Save Notifications</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.editWalkthrough.autoSaveNotification" id="chkStaffWalkthroughImprovementsAutoSaveNotification" name="chkStaffWalkthroughImprovementsAutoSaveNotification" type="checkbox"><label for="chkStaffWalkthroughImprovementsAutoSaveNotification"></label></div></div></div></div><div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Manage Walkthrough</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-checkbox" data-render-condition><label>Clickable Table Links</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.manageWalkthrough.clickableTableLinks" id="chkStaffWalkthroughImprovementsClickableTableLinks" name="chkStaffWalkthroughImprovementsClickableTableLinks" type="checkbox"><label for="chkStaffWalkthroughImprovementsClickableTableLinks"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Add Missing Buttons</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.manageWalkthrough.addMissingButtons" id="chkStaffWalkthroughImprovementsAddPageButton" name="chkStaffWalkthroughImprovementsAddPageButton" type="checkbox"><label for="chkStaffWalkthroughImprovementsAddPageButton"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Auto Select First Walkthrough</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.manageWalkthrough.autoSelectFirst" id="chkStaffWalkthroughImprovementsAutoSelectFirst" name="chkStaffWalkthroughImprovementsAutoSelectFirst" type="checkbox"><label for="chkStaffWalkthroughImprovementsAutoSelectFirst"></label></div><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus", "checked": true }\'>This feature runs after the default status has been set.</p></div><div class="ta-x-settings-menu-columned-setting"><div class="ta-x-checkbox" data-render-condition><label>Default Status for Manage Walkthrough</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.manageWalkthrough.manageWalkthroughDefaultStatus" id="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus" name="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus" type="checkbox"><label for="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus"></label></div></div><div class="frm-grp frm-sel ta-x-hide" data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus", "checked": true }\'><select class="dropdown" data-array-split data-config-path="staffWalkthroughImprovements.manageWalkthrough.manageWalkthroughDefaultStatusValue" data-is-array="false" id="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue" name="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue"><option selected="selected" value="-1">(All)</option><option selected="selected" value="New">New</option><option value="In progress" selected="selected">In progress</option><option value="Ready for review" selected="selected">Ready for review</option><option value="Ready for publish" selected="selected">Ready for publish</option><option selected="selected" value="Published">Published</option><option value="New owner required" selected="selected">New owner required</option></select></div></div></div></div><div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Walkthrough Page</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-checkbox" data-render-condition><label>Stick Page History To Left</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.walkthroughPage.stickyPageHistory" id="chkStaffWalkthroughImprovementsStickyPageHistory" name="chkStaffWalkthroughImprovementsStickyPageHistory" type="checkbox"><label for="chkStaffWalkthroughImprovementsStickyPageHistory"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Move Buttons To The Left</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.walkthroughPage.moveButtonsToLeft" id="chkStaffWalkthroughImprovementsMoveButtonsToLeft" name="chkStaffWalkthroughImprovementsMoveButtonsToLeft" type="checkbox"><label for="chkStaffWalkthroughImprovementsMoveButtonsToLeft"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Add Walkthrough Team Button</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.walkthroughPage.walkthroughTeamButton" id="chkStaffWalkthroughImprovementsWalkthroughTeamButton" name="chkStaffWalkthroughImprovementsWalkthroughTeamButton" type="checkbox"><label for="chkStaffWalkthroughImprovementsWalkthroughTeamButton"></label></div></div><div class="ta-x-checkbox" data-render-condition><label>Highlight Page Locked</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.walkthroughPage.highlightPageLocked" id="chkStaffWalkthroughImprovementsHighlightPageLocked" name="chkStaffWalkthroughImprovementsHighlightPageLocked" type="checkbox"><label for="chkStaffWalkthroughImprovementsHighlightPageLocked"></label></div></div></div></div><div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "checked": true }\' class="ta-x-settings-menu-settings-accordion"><div class="ta-x-settings-menu-settings-accordion-header labels js-ta-x-accordion collapsed"><span>Walkthrough Preview</span><svg viewbox="0 0 512 512" class="ta-x-settings-menu-settings-accordion-header-icon" xmlns="http://www.w3.org/2000/svg"><path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z" fill="currentColor"></path></svg></div><div class="ta-x-settings-menu-settings-accordion-body t-settings"><div class="ta-x-checkbox" data-render-condition><label>Populate Side Column Content</label><div class="frm-grp frm-tgl"><input checked="checked" data-config-path="staffWalkthroughImprovements.walkthroughPreview.populateAsideContent" id="chkStaffWalkthroughImprovementsPopulateAsideContent" name="chkStaffWalkthroughImprovementsPopulateAsideContent" type="checkbox"><label for="chkStaffWalkthroughImprovementsPopulateAsideContent"></label></div><div class="ta-x-flex-break"></div><p class="ta-x-checkbox-help-text ta-x-hide" data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovementsPopulateAsideContent", "checked": true }\'>This feature only supports "In Progress " walkthroughs, let me know if you want it to support others!</p></div></div></div></div></div></div><div class="t-settings js-ta-x-settings-menu-changelog ta-x-settings-menu-settings-item"><div class="ta-x-settings-menu-changelog-wrapper"><h2>2.7.0</h2><ul><li><span class="ta-x-markdown-marker">></span><p>Adds a feature to auto select a default achievement state on a game,</p></li><li><span class="ta-x-markdown-marker">></span><p>Adds a feature to populate the walkthrough preview sidebar content.</p></li></ul><a class="ta-x-settings-menu-changelog-link" href="https://github.com/andrewcartwright1/trueachievements-extra/blob/main/CHANGELOG.md">See the full changelog here</a></div><div class="ta-x-settings-menu-credits-wrapper"><h1>Credits</h1><ul><li><span class="ta-x-markdown-marker">></span><p><a href="https://www.trueachievements.com/gamer/Dynamite+Andy">Dynamite Andy</a> - Main contributor,</p></li><li><span class="ta-x-markdown-marker">></span><p><a href="https://www.trueachievements.com/gamer/Belindo152">Belindo152</a> for code contributions, bug reports and feature requests,</p></li><li><span class="ta-x-markdown-marker">></span><p><a href="https://www.trueachievements.com/gamer/Amoa">Amoa</a>, <a href="https://www.trueachievements.com/gamer/DynamicWolfNLD">DynamicWolfNLD</a> and <a href="https://www.trueachievements.com/gamer/ManicMetalhead">ManicMetalhead</a>, <a href="https://www.trueachievements.com/gamer/zr122">zr122</a> for feature requests and bug reports,</p></li><li><span class="ta-x-markdown-marker">></span><p>You for using this addon and checking out this work, thank you - it mean\'s alot.</p></li></ul></div></div></div><div class="t-settings open ta-x-settings-menu-bottom"><ul class="list-links buttons"><li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Raise a Bug</a></li><li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Request a Feature</a></li></ul><div class="title"><span>TrueAchievements Extra</span><div class="ta-x-flex-break"></div><a class="js-ta-x-settings-menu-version" href="#">Version {GM_info.script.version}</a></div></div></div></div></div><div class="js-ta-x-settings-menu-close close"></div></div>',"text/html"),r=await(0,a.br)("header nav"),o=await(0,a.br)('[data-tgl="nav-gamer"]',r);r.insertBefore(e.querySelector(`.${t.gT.Styles.SettingsMenu.wrenchJs}`),o.nextSibling);const n=await(0,a.br)(".nav-gamer"),i=(0,s.XK)(e.querySelector(`.${t.gT.Styles.SettingsMenu.featureJs}`));n.parentNode.insertBefore(i,n.nextSibling),c()})(),g()};let p,k,v;const f=()=>window.pageYOffset<=p.offsetTop,w=async()=>{t._A.enabled&&(await(async()=>{p=await(0,a.br)("header");const e=document.createElement("div");e.style.height=`${p.offsetHeight}px`,p.parentNode.insertBefore(e,p),p.classList.add(t.gT.Styles.StickyHeader.featureJs,t.gT.Styles.StickyHeader.featureStyle),document.documentElement.style.setProperty(t.gT.Styles.Variables.StickyHeader.height,`${p.offsetHeight}px`),t._A.remainStuck||f()||p.classList.add(t.gT.Styles.Animations.yHideNoTransition)})(),await(async()=>{if(t._A.remainStuck)return;const e=await(0,a.br)(`.nav-gamer:not(.${t.gT.Styles.SettingsMenu.featureJs})`),r=await(0,a.br)(`.${t.gT.Styles.SettingsMenu.featureJs}`);v=e.classList.contains("open")||r.classList.contains("open"),window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;f()?p.classList.remove(t.gT.Styles.Animations.yHide,t.gT.Styles.Animations.yHideNoTransition):"inline"===p.querySelector("#divtxtSearchContainer").style.display||(0,a.AM)(p.dataset.menuOpen)||(k>e?(p.classList.remove(t.gT.Styles.Animations.yHide,t.gT.Styles.Animations.yHideNoTransition),p.classList.add(t.gT.Styles.Animations.yShow)):k<e&&(p.classList.remove(t.gT.Styles.Animations.yShow),p.classList.add(t.gT.Styles.Animations.yHide))),k=e}));const s=new MutationObserver((e=>{e.forEach((({target:e,attributeName:t})=>{if(e instanceof HTMLElement&&"class"===t){const t=e.classList.contains("open");v!==t&&(v=t,p.setAttribute("data-menu-open",t.toString()))}}))}));s.observe(e,{attributes:!0,attributeFilter:["style","class"]}),s.observe(r,{attributes:!0,attributeFilter:["style","class"]})})())};const x='<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container"></div><a class="button js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-ready-for-review-button" onclick=\'return Postback("btnReadyForReview_click"),!1\' title="Ready for review" href="#" id="btnReadyForReview"> <img alt="Ready for review" title="Ready for review" src="/images/icons/tick.png"> Ready for review </a><div class="buttons js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-missing-buttons-container"><a class="button js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-add-page-button"> <img alt="Add page" title="Add page" height="16" src="/images/icons/addtotrophycasesmall.png" width="16"> <span>Add page</span> </a><a class="button js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-preview-button"> <img alt="Preview" height="16" src="/images/icons/previewwalkthrough.png" title="Preview" width="16"> <span>Preview</span> </a><a class="button js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-view-content-button"> <img alt="View and edit content" title="View and edit content" height="16" src="/images/icons/previewwalkthrough.png" width="16"> <span>View and edit content</span> </a></div>';var b=__webpack_require__("./src/globals/regex.ts");const y=async()=>{if(!t.Ax.manageWalkthroughDefaultStatus)return;if(b.nW.Walkthroughs.Test.manageWalkthroughUrlWithWalkthroughId())return;const e=await(0,a.br)("#ddlStatusFilter");null===e.querySelector("[selected]")&&e.value!==t.Ax.manageWalkthroughDefaultStatusValue&&(e.value=t.Ax.manageWalkthroughDefaultStatusValue,e.onchange(null))};const S=async()=>{if(!t.Ax.clickableTableLinks)return;const e=await(0,a.br)("#lstWalkthroughIDselectedrow a");if(!e)return;const r=document.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`),o=(0,a.Hq)((0,a.QF)("'",e.href)[1]),n=await(0,s.FS)(`https://www.trueachievements.com/staff/walkthrough/walkthroughpreview.aspx?walkthroughid=${o}`),i=(new DOMParser).parseFromString(n,"text/html");await(0,a.Eh)("Manage Walkthrough Page Clickable Table Links",[{name:"manage-walkthrough-clickable-table-links-clickable-achievements",task:async()=>(async(e,r)=>{if(await(0,a.br)("#chWalkthroughAchievements",e)){const o=(new DOMParser).parseFromString('<template id="ta-x-template-manage-walkthrough-achievement-row"><tr><td class="point"></td><td class="c1">{element.outerHTML}</td><td class="c2"></td><td class="dlop plain"></td></tr></template>',"text/html"),n=[...e.querySelectorAll("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID .c1")];let i=e.querySelector("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID tbody");if(!i){const t=e.querySelector("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID table");i=t.appendChild(document.createElement("tbody"))}const l=[...r.querySelectorAll(".walkthroughsummary .games a.gamelink")];await(0,a.Eh)("ClickableAchievements - Games",l.map((e=>({name:`manage-walkthrough-clickable-table-links-clickable-achievements-${e.innerText}`,task:async()=>{const r=await(0,s.FS)(e.href),l=[...(new DOMParser).parseFromString(r,"text/html").querySelectorAll("main ul.ach-panels li a.title")];await(0,a.Eh)("ClickableAchievements - Achievements",l.map((a=>({name:`manage-walkthrough-clickable-table-links-clickable-achievements-${e.innerText}-${a.innerText.trim()}`,task:async()=>{const e=a.innerText.trim(),r=n.find((t=>t.innerText.toLowerCase()===e.toLowerCase()));if(r){r.innerText="",r.innerHTML=a.outerHTML;const e=r.querySelector("a");e.href=t.KH.Test.achievementUrlWithGamerId(e.href)?new URL(e.href).pathname:e.href}else{const e=o.querySelector(`#${t.gT.Templates.StaffWalkthroughImprovements.ManageWalkthroughPage.achievementRow}`).content.firstElementChild.cloneNode(!0),r=(0,s.XK)(e,{element:a}),n=r.querySelector("a");r.querySelector("a").href=t.KH.Test.achievementUrlWithGamerId(n.href)?new URL(n.href).pathname:n.href,i.appendChild(r)}}}))),5)}}))));const h=e.querySelector("#chWalkthroughAchievements #lstWalkthroughAchievementID .total");h.innerText=`${h.innerText}/${[...i.querySelectorAll("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID .c1")].length}`}})(r,i)},{name:"manage-walkthrough-clickable-table-links-clickable-games",task:async()=>(async(e,t)=>{if(await(0,a.br)("#chWalkthroughGamers",e)){const a=[...t.querySelectorAll(".walkthroughsummary .games a.gamelink")];[...e.querySelectorAll("#scrolllstWalkthroughGames .c1")].forEach((e=>{const t=e.innerText.trim(),r=a.find((e=>e.innerText.toLowerCase()===t.toLowerCase()));r&&(e.innerText="",e.innerHTML=r.outerHTML)}))}})(r,i)},{name:"manage-walkthrough-clickable-table-links-clickable-gamers",task:async()=>(async(e,t)=>{if(await(0,a.br)("#chWalkthroughGamers",e)){const a=[...t.querySelectorAll(".walkthroughsummary .editors dd a")];[...e.querySelectorAll("#scrolllstWalkthroughGamers .c1")].forEach((e=>{const t=e.innerText.trim(),r=a.find((e=>e.innerText.toLowerCase()===t.toLowerCase()));r&&(e.innerText="",e.innerHTML=r.outerHTML)}))}})(r,i)}])},_=async()=>{if(!t.Ax.autoSelectFirst)return;if(b.nW.Walkthroughs.Test.manageWalkthroughUrlWithWalkthroughId())return;const e=await(0,a.br)("#scrolllstWalkthroughID");null===await(0,a.br)("#lstWalkthroughIDselectedrow",void 0,1e3)&&null!==e.querySelector("table tr")&&e.querySelector("table tr a").click()},W=async()=>{if(!t.Ax.addMissingButtons)return;if(null===await(0,a.br)("#lstWalkthroughIDselectedrow",void 0,1e3))return;if(null===await(0,a.br)("#txtPageName",void 0,1e3))return;const e=(new DOMParser).parseFromString(x,"text/html");let r=document.querySelector("#chEditWalkthrough .buttons");r.insertBefore(e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.readyForReviewButtonJs}`),r.children[0]),r.parentNode.insertBefore(e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.missingButtonsContainerJs}`),r),r=document.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.missingButtonsContainerJs}`),r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.addPageButtonJs}`).href='javascript:Postback("btnAddPage")',r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.previewButtonJs}`).href='javascript:Postback("btnPreview")',r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.viewContentButtonJs}`).href='javascript:Postback("btnViewContent")'};let P;const T=async()=>{const e=await(0,a.br)("#btnWalkthrough_Options",P);if(null===e)return;let t=null;[...e.querySelectorAll("li a")].forEach((e=>{t=t||e.closest(".buttons"),t&&(e.classList.add("button"),t.appendChild(e))})),t&&t.parentNode.insertBefore(t,t.previousElementSibling)},I=async()=>{const e=await(0,a.br)(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`,P);if(e){const t=await(0,a.br)("#chWalkthroughAchievements",P);t&&(A(t),e.appendChild(t)),e.appendChild(await(0,a.br)("#chWalkthroughGames",P)),e.appendChild(await(0,a.br)("#chWalkthroughGamers",P)),e.appendChild(await(0,a.br)("#chWalkthroughOtherSiteLink",P))}},A=e=>{const t=[...e.querySelectorAll("#scrolllstWalkthroughAchievementID .c1")],r=(0,a.VB)(t.map((e=>e.innerText)),!0);if(r.length>0){const a=t.length;let s=0;for(let e=0;e<r.length;e++){const a=t.filter((t=>t.innerText.toLowerCase()===r[e].toLowerCase())),o=a[0].nextElementSibling;for(let e=1;e<a.length;e++){const t=a[e].nextElementSibling.innerText.trim();o.innerText+=`, ${t}`,a[e].closest("tr").remove(),s++}}const o=e.querySelector("#lstWalkthroughAchievementID .total");o.innerText=o.innerText.replace(a.toString(),(a-s).toString())}},M=async()=>{t.nW.Walkthroughs.Test.manageWalkthroughUrl()&&(await y(),await _(),await(async()=>{if(P=await(0,a.br)("#divWalkthroughHolder"),!P)return;const e=await(0,a.br)("#chEditWalkthrough",P);if(e&&await(0,s.C4)((()=>P.childElementCount>2),1e3)){const r=(new DOMParser).parseFromString(x,"text/html");e.after(r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`)),(0,a.Eh)("Manage Walkthrough",[{name:"manage-walkthrough-adjust-right-sidebar",task:I},{name:"manage-walkthrough-adjust-buttons",task:T}])}})(),(0,a.Eh)("Manage Walkthrough",[{name:"manage-walkthrough-make-table-links-clickable",task:S},{name:"manage-walkthrough-add-missing-buttons",task:W}]))};const E='<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container"></div><a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>',C=async(e,r)=>{if(!t.Vx.walkthroughTeamButton)return;if(!e||!r)return;const s=await(0,a.br)(".content .buttons",r);if(s){const e=(new DOMParser).parseFromString(E,"text/html");s.appendChild(e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.walkthroughTeamButtonJs}`))}},L=async(e,r)=>{if(!t.Vx.moveButtonsToLeft)return;if(!e||!r)return;const s=await(0,a.br)("#btnEditPage, #btnEditPage2, #btnUnlockWalkthroughPage, #btnUnlockWalkthroughPage2",e),o=await(0,a.br)(".content .buttons",r);s&&o&&(o.append(...s.parentElement.childNodes),e.classList.add(t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.moveButtonsToLeftStyle))};let B,$;const D=t.gT.Styles.Variables.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryTop,O=async(e,r)=>{t.Vx.stickyPageHistory&&e&&r&&(B=e,$=r,r.classList.add(t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryJs,t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryStyle),await(0,s.vN)(D,r,e,{noTransitionStyle:!0,paddingFromTop:5}),await(async()=>{window.addEventListener("scroll",(async()=>await(0,s.vN)(D,$,B,{noTransitionStyle:!(0,a.gz)($,[t.gT.Styles.Animations.yHideNoTransition,t.gT.Styles.Animations.yHide,t.gT.Styles.Animations.yShow]),paddingFromTop:5})))})())},G=async e=>{if(!t.Vx.highlightPageLocked)return;if(!e)return;const r=await(0,a.br)(".walkthroughlocked",e);r&&r.classList.add("informationpanel")};let H,q;const J=async()=>{const e=await(0,a.br)("#chWalkthroughPagePreview");e&&H.appendChild(e)},V=async()=>{b.nW.Walkthroughs.Test.walkthroughPageUrl()&&(await(async()=>{const e=(new DOMParser).parseFromString(E,"text/html");q=await(0,a.br)("#chWalkthroughPageVersions"),q.parentElement.insertBefore(e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),q),H=document.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),H.appendChild(q),J()})(),(0,a.Eh)("Walkthrough Page",[{name:"walkthrough-page-set-page-history-sticky",task:async()=>O(H,q)},{name:"walkthrough-page-add-walkthrough-team-button",task:async()=>C(H,q)},{name:"walkthrough-page-move-buttons-to-left",task:async()=>L(H,q)},{name:"walkthrough-page-highlight-page-locked",task:async()=>G(H)}]))},R=async()=>{t.kB.autoSaveNotification&&r.subscribe("ajaxIntercept:response",(e=>{t.rt.Test.autosave(e.responseURL)&&r.publish("snackbar:show",{text:200===e.status?"Autosave successful.":"Autosave failed.",type:200===e.status?"success":"danger"})}))};const U=async()=>{if(!t.kB.improvedImageSelector)return;const e=await(0,a.br)("#oWalkthroughImageViewer");if(!e)return;e.classList.add(t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorStyle,t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs);const r=(new DOMParser).parseFromString('<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header"></div><p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{element.title}</p>',"text/html"),o=r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorContainerJs}`),n=await(0,a.br)(".imageviewer",e),i=await(0,a.br)(".addimages a",e);e.insertBefore(o,n),o.appendChild(n.querySelector(".itemname, .noimages")),o.appendChild(i),[...n.querySelectorAll(".ivimage a")].forEach((e=>{const o=r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorImageTitleJs}`).cloneNode(!0),n=(0,s.XK)(o,{element:e.querySelector("img")});n.innerText=(0,a._o)("'",n.innerText),e.appendChild(n)})),document.addEventListener("click",(({target:e})=>{if(!(e instanceof HTMLElement))return;if(null!==e.closest(`[aria-label='Add Image'], .${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`))return;const a=document.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);"block"===a.style.display&&(a.style.display="none")})),window.addEventListener("blur",(()=>{if(document.activeElement===document.querySelector("#txtWalkthrough_ifr")){const e=document.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);if("block"!==e.style.display)return;e.style.display="none"}}))};let N,F;const j=async()=>(F=F||await(0,a.br)(".page, [data-theme]"),null!==t.kB.tinymceTheme?t.kB.tinymceTheme:F?F.getAttribute("data-theme"):""),z=async e=>{GM_addStyle("body.trueachievement-extras.ta-x-staff-walkthrough-improvements .mce-edit-area{border:0 !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel{border:0 solid #232b33;background-color:#404952}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-toolbar-grp{padding:2px 0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-window-head,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-foot{border-color:#9e9e9e}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-title,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-label{color:#b5b9bf;text-shadow:0 1px 1px rgba(0,0,0,.75)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-path-item{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-i-resize{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-ico{text-shadow:1px 1px #000;color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-caret{border-top:4px solid #b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn{border:1px solid #364049 !important;border-color:#202a33 !important;text-shadow:0 1px 1px rgba(0,0,0,.75);background-color:#4c5761 !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn:focus,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-active,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn:hover,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn:focus,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-active,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn:hover{background-image:none !important;background-color:#004364 !important;border-color:#24292e !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-disabled,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-disabled{cursor:default}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-primary,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-primary{background-color:#004364 !important;color:#fff;text-shadow:1px 1px #333}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-primary:hover,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-primary:hover{background-color:#00547d !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn button,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn button{padding:4px 10px;font-size:14px;cursor:pointer;color:#b5b9bf;text-align:center}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn button span,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn button span{color:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn-group .mce-btn{border-width:1px;margin:0;margin-left:2px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu{background:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-sep{background:#25313f;border-color:#424f5f}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal .mce-text{color:#ddd !important;background:rgba(0,0,0,0) !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal:focus,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal.mce-selected,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal.mce-active{background-color:#006597;color:#fff !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal:hover{text-decoration:none;color:#fff;background-color:#0085c7}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal .mce-caret{border-left:4px solid #b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-grid-border a{border-color:#202a33;background-color:#4c5761}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-grid-border a.mce-active{background-color:#006597}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-text-center{color:#ddd}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-edit-area{border-left:1px solid #000 !important;border:0 !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-tabs{background:#303942;border-bottom:1px solid #202a33}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-tabs .mce-tab{color:#b5b9bf;border-color:#202a33;background:#303942;text-shadow:0 1px 1px rgba(0,0,0,.75)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-tabs .mce-tab.mce-active{background:#404952}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-i-checkbox,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-textbox,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] input{background-color:#4c5761;color:#bbb;border-color:#202a33;background-image:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer{border:0 solid #232b33;background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer .imageviewer{background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer .noimages,body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer .itemname{color:#b5b9bf}"),N=e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs} [data-ta-x-tinymce-theme]`);const r=await j();N.setAttribute("data-ta-x-tinymce-theme",r),document.body.setAttribute("data-ta-x-theme",r),await(async()=>{N.addEventListener("click",(({target:e})=>{if(!(e instanceof HTMLElement))return;const a="dark"===e.getAttribute("data-ta-x-tinymce-theme")?"":"dark";t.kB.tinymceTheme=a,e.setAttribute("data-ta-x-tinymce-theme",a)}));const e=await(0,a.br)("#txtWalkthrough_ifr");e.addEventListener("load",(async()=>{const r=e&&e.contentDocument,s=await(0,a.br)("#tinymce",r);s.classList.add(t.gT.Styles.root,t.gT.Styles.StaffWalkthroughImprovements.featureStyle),s.setAttribute("data-ta-x-tinymce-theme",await j());const o=r.createElement("style");o.id="ta-x-staff-walkthrough-improvements-dark-tinymce-style",o.innerHTML="body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-tinymce-theme=dark]{background-color:#444;color:#bbb;border-color:#555}",r.head.appendChild(o);const n=r.createElement("script");n.id="ta-x-staff-walkthrough-improvements-dark-tinymce-script",n.innerHTML="window.addEventListener('message', function(event) {\n      console.log(event);\n      if (!event || !event.data || event.data.theme === null || event.data.theme === undefined) return;\n      document.body.setAttribute('data-ta-x-tinymce-theme', event.data.theme);\n    });",r.head.appendChild(n),e.removeEventListener("load",void 0)}));let r=!1;const s=new MutationObserver((t=>{r?r=!1:t.forEach((t=>{if("attributes"!==t.type)return;if(!(t.target instanceof HTMLElement))return;let a;if("data-theme"===t.attributeName)a=t.target.getAttribute("data-theme"),r=!0,N.setAttribute("data-ta-x-tinymce-theme","dark"===a?a:""),document.body.setAttribute("data-ta-x-theme","dark"===a?a:"");else{if("data-ta-x-tinymce-theme"!==t.attributeName)return;a=t.target.getAttribute("data-ta-x-tinymce-theme")}null!=a&&e.contentWindow.postMessage({theme:a},"*")}))}));s.observe(N,{attributes:!0}),s.observe(F,{attributes:!0})})()};let K,X;const Y=t.gT.Styles.Variables.StaffWalkthroughImprovements.EditWalkthroughPage.stickyTinymceToolbarTop,Q=async e=>{K=e,X=await(0,a.br)(".mce-container-body .mce-toolbar-grp",e),X&&(X.classList.add(t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.stickyTinymceToolbarStyles),document.documentElement.style.setProperty(t.gT.Styles.Variables.StaffWalkthroughImprovements.EditWalkthroughPage.stickyTinymceToolbarWidth,`${X.parentElement.scrollWidth}px`),await(0,s.vN)(Y,X,K,{noTransitionStyle:!0,isRelativeToParent:!0}),await(async()=>{window.addEventListener("scroll",(async()=>{await(0,s.vN)(Y,X,K,{noTransitionStyle:!(0,a.gz)(X,[t.gT.Styles.Animations.yHideNoTransition,t.gT.Styles.Animations.yHide,t.gT.Styles.Animations.yShow]),isRelativeToParent:!0}),setTimeout((()=>r.publish("tinymce:repositionFloatingMenus")),250)}))})())};let Z;const ee=t.gT.Styles.Variables.StaffWalkthroughImprovements.EditWalkthroughPage.stickyTinymceToolbarFloatingMenu,te=()=>{const e=(0,a.HM)(Z);document.documentElement.style.setProperty(ee,`${Z.offsetHeight+e.top}px`)},ae=async e=>{Z=await(0,a.br)(".mce-container-body .mce-toolbar-grp",e),Z&&(te(),window.addEventListener("scroll",te),r.subscribe("tinymce:repositionFloatingMenus",te))},re=(e,t)=>{const a=document.createElement("script");return a.id=e,a.innerHTML=t,a},se=async()=>{const e=await(0,a.br)("#txtWalkthrough_ifr");e.addEventListener("load",(async()=>{const t=re("ta-x-staff-walkthrough-improvements-add-code-editor-command",'tinymce.PluginManager.add("code", function(e) {\n        function o() {\n            var o = tinymce.editors.txtWalkthrough.windowManager.open({\n                title: "Source code",\n                body: {\n                    type: "textbox",\n                    name: "code",\n                    multiline: true,\n                    minWidth: tinymce.editors.txtWalkthrough.getParam("code_dialog_width", 600),\n                    minHeight: tinymce.editors.txtWalkthrough.getParam("code_dialog_height", Math.min(tinymce.DOM.getViewPort().h - 200, 500)),\n                    spellcheck: false,\n                    style: "direction: ltr; text-align: left"\n                },\n                onSubmit: function(o) {\n                    tinymce.editors.txtWalkthrough.focus(),\n                    tinymce.editors.txtWalkthrough.undoManager.transact(function() {\n                        tinymce.editors.txtWalkthrough.setContent(o.data.code)\n                    }),\n                    tinymce.editors.txtWalkthrough.selection.setCursorLocation(),\n                    tinymce.editors.txtWalkthrough.nodeChanged()\n                }\n            });\n            o.find("#code").value(tinymce.editors.txtWalkthrough.getContent({\n                source_view: true\n            }))\n        }\n        tinymce.editors.txtWalkthrough.addCommand("mceCodeEditor", o)\n    })();'),a=re("ta-x-staff-walkthrough-improvements-show-code-editor",'document.querySelector(".js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-source-code").addEventListener("click", function(e) {\n        tinymce.activeEditor.execCommand("mceCodeEditor");\n    });');document.body.appendChild(t),document.body.appendChild(a),e.removeEventListener("load",void 0)}))};const oe=async()=>{if(!await(0,a.br)('[href*="skin.min.css"]',document.head))return;const e=await(0,a.br)(".mce-tinymce"),r=await(0,a.br)(".mce-toolbar.mce-last .mce-container-body",e);if(!e||!r)return;const s=(new DOMParser).parseFromString('<div class="mce-container mce-last mce-flow-layout-item mce-btn-group js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle" role="group"><div><div aria-label="Switch theme" class="mce-widget mce-btn mce-first" role="button" tabindex="-1"><button data-ta-x-tinymce-theme role="presentation" tabindex="-1" type="button"><svg viewbox="0 0 512 512" class="ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark" xmlns="http://www.w3.org/2000/svg"><path d="M421.6 379.9c-.6641 0-1.35 .0625-2.049 .1953c-11.24 2.143-22.37 3.17-33.32 3.17c-94.81 0-174.1-77.14-174.1-175.5c0-63.19 33.79-121.3 88.73-152.6c8.467-4.812 6.339-17.66-3.279-19.44c-11.2-2.078-29.53-3.746-40.9-3.746C132.3 31.1 32 132.2 32 256c0 123.6 100.1 224 223.8 224c69.04 0 132.1-31.45 173.8-82.93C435.3 389.1 429.1 379.9 421.6 379.9zM255.8 432C158.9 432 80 353 80 256c0-76.32 48.77-141.4 116.7-165.8C175.2 125 163.2 165.6 163.2 207.8c0 99.44 65.13 183.9 154.9 212.8C298.5 428.1 277.4 432 255.8 432z" fill="currentColor"></path></svg> <svg viewbox="0 0 512 512" class="ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light" xmlns="http://www.w3.org/2000/svg"><path d="M505.2 324.8l-47.73-68.78l47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06c-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88l-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22c-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49L187.2 6.709C176.5-.6016 163.1-2.039 151.1 2.896c-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4C18.42 130.7 7.854 139.2 2.9 151.2C-2.051 163.1-.5996 176.6 6.775 187.2l47.73 68.78l-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06c4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88l14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22c11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78C331.3 509.7 338.8 512 346.3 512c4.906 0 9.859-.9687 14.56-2.906c11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44l82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75C514.1 348.9 512.6 335.4 505.2 324.8zM456.8 339.2l-99.61 18l-18 99.63L256 399.1L172.8 456.8l-18-99.63l-99.61-18L112.9 255.1L55.23 172.8l99.61-18l18-99.63L256 112.9l83.15-57.75l18.02 99.66l99.61 18L399.1 255.1L456.8 339.2zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1c0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1C367.1 194.1 317.8 143.1 256 143.1zM256 319.1c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1S291.3 319.1 256 319.1z" fill="currentColor"/></svg></button></div><div aria-label="Show Code" class="mce-widget mce-btn mce-last" role="button" tabindex="-1"><button class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-source-code ta-x-staff-walkthrough-improvements-edit-walkthrough-page-source-code-button" role="presentation" tabindex="-1" type="button"><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z" fill="currentColor"></path></svg></button></div></div></div>',"text/html").querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`);r.appendChild(s),(0,a.Eh)("Edit Walkthrough",[{name:"tinymce-set-full-width-toolbar",task:async()=>Q(e)},{name:"tinymce-add-fix-floating-menus",task:async()=>ae(e)},{name:"tinymce-add-source-code-button",task:async()=>se()},{name:"tinymce-add-toggle-theme-button",task:async()=>z(r)}])},ne=async()=>{t.nW.Walkthroughs.Test.editWalkthroughUrl()&&(0,a.Eh)("Edit Walkthrough",[{name:"edit-walkthrough-improve-image-selector",task:U},{name:"edit-walkthrough-auto-save-notification",task:R},{name:"edit-walkthrough-tinymce",task:oe}],3)},ie=async()=>{const e=await(0,a.br)(".page main");e.parentElement.classList.add("no-aside"),e.classList.add("no-aside");(await(0,a.br)(".page aside")).remove()},le=async()=>{r.subscribe("walkthroughPreview:removeAside",ie),t.uP.populateAsideContent||await ie()};const he='<section class="purple js-ta-x-ask-loader-container ta-x-ask-loader-container js-ta-x-staff-walkthrough-improvements-walkthrough-preview-populate-aside-content ta-x-staff-walkthrough-improvements-walkthrough-preview-populate-aside-content"><div>Walkthrough Information</div><article><div class="ta-x-article-loader"><p>Please wait, loading.</p><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z" fill="currentColor"></path></svg></div><div class="js-ta-x-ask-loader-ask ta-x-ask-loader-ask ta-x-hide"><p>Can\'t automate them all sadly! Please enter the walkthrough id to link this page to the walkthrough, I\'ll try remember it next time! If this is not a "In Progress" walkthrough, I\'ll probably ask again.</p><div><label class="small">Walkthrough Id</label><input class="textbox cs-n js-ta-x-ask-loader-ask-input" id="txtStaffWalkthroughImprovementsWalkthroughsPreviewPopulateAsideContentWalkthroughId" name="txtStaffWalkthroughImprovementsWalkthroughsPreviewPopulateAsideContentWalkthroughId"></div><input class="button js-ta-x-ask-loader-ask-button" id="btnStaffWalkthroughImprovementsWalkthroughsPreviewPopulateAsideContentWalkthroughId" name="btnStaffWalkthroughImprovementsWalkthroughsPreviewPopulateAsideContentWalkthroughId" type="submit" value="Save"></div></article></section><section class="green walkthrough-right js-ta-x-staff-walkthrough-improvements-walkthrough-preview-populate-aside-content-walkthrough-achievements"><div>Walkthrough Achievements</div><article><ul class="il"></ul></article></section><section class="purple page-index js-ta-x-staff-walkthrough-improvements-walkthrough-preview-populate-aside-content-walkthrough-pages"><div>Pages In This Walkthrough</div><article><table class="wt-pl"><tbody></tbody></table></article></section><section class="purple walkthroughthanks js-ta-x-staff-walkthrough-improvements-walkthrough-preview-populate-aside-content-walkthrough-thanks"><div>Walkthrough Thanks</div><article><div class="thanks"><span>{populateAsideContentPreviewThanks.total}</span><img alt="Thanks" class="thumbsup" height="64" src="/images/walkthroughs/thumbs_up.png" width="64"></div><p>community members have thanked the author.</p><p class="thread">Discuss this walkthrough in its <a href="{populateAsideContentPreviewThanks.thread}">Walkthrough Thread</a>.</p></article></section>';let me,ce;const ue=async()=>{const e=t.Ct.walkthroughPreviewWalkthroughId;let a=null;if(t.nW.Walkthroughs.Test.walkthroughPreviewUrlWithWalkthroughId())a=new URLSearchParams(window.location.search).get("walkthroughid");else if(t.nW.Walkthroughs.Test.walkthroughPagePreviewUrlWithPageId()){const t=new URLSearchParams(window.location.search).get("pageid"),r=[...e.entries()].find((e=>e[1].includes(t)));r&&(a=r[0])}a?ge(a):we()},ge=async e=>{const o=await(0,a.br)(".main aside"),n=(new DOMParser).parseFromString(he,"text/html"),i=(new DOMParser).parseFromString('<template id="ta-x-template-walkthrough-preview-walkthrough-pages-summary"><tr><td></td><td><a href="{urls.walkthroughPreviewWithWalkthroughId}">Walkthrough Summary</a></td></tr></template><template id="ta-x-template-walkthrough-preview-walkthrough-pages-numbered-selected"><tr><td class="pos">{populateAsideContentPreviewPage.index}</td><td data-wp="{populateAsideContentPreviewPage.id}">{populateAsideContentPreviewPage.title}</td></tr></template><template id="ta-x-template-walkthrough-preview-walkthrough-pages-numbered"><tr><td class="pos">{populateAsideContentPreviewPage.index}</td><td data-wp="{populateAsideContentPreviewPage.id}"><a href="{urls.walkthroughPreviewWithPageId}">{populateAsideContentPreviewPage.title}</a></td></tr></template><template id="ta-x-template-walkthrough-preview-walkthrough-achievements"><li data-i="{populateAsideContentPreviewAchievement.id}"><img alt="{populateAsideContentPreviewAchievement.title}" class="smallicon" height="32" loading="lazy" src="{populateAsideContentPreviewAchievement.src}" width="32"> <a href="{urls.walkthroughPreviewWithPageIdAndAchievementId}">{populateAsideContentPreviewAchievement.title}</a> <p>{populateAsideContentPreviewAchievement.description}</p></li></template>',"text/html"),l=await(0,s.FS)(`https://www.trueachievements.com/staff/walkthrough/managewalkthrough.aspx?walkthroughid=${e}`),h=(new DOMParser).parseFromString(l,"text/html");if("In progress"!==h.querySelector("#txtStatusReadOnly").value)return me.remove(),void r.publish("walkthroughPreview:removeAside");const m=await de(e),c=await(0,s.FS)(m),u=(new DOMParser).parseFromString(c,"text/html");let g=[await fe(e,h,n),ve(h,u,n,i)];if(t.nW.Walkthroughs.Test.walkthroughPagePreviewUrlWithPageId()){g=[ke(e,h,n,i)].concat(g)}me.remove(),o.append(...g);const d=t.Ct.walkthroughPreviewWalkthroughId;d.set(e,pe(h).map((e=>e.id))),t.Ct.walkthroughPreviewWalkthroughId=d},de=async e=>{const t=document.querySelector(".walkthroughsummary .games a.gamelink");if(t)return t.href;const a=await(0,s.FS)(`https://www.trueachievements.com/staff/walkthrough/walkthroughpreview.aspx?walkthroughid=${e}`);return(new DOMParser).parseFromString(a,"text/html").querySelector(".walkthroughsummary .games a.gamelink").href},pe=e=>[...e.querySelectorAll("#scrolllstWalkthroughPages tbody .c2 a")].map(((e,t)=>({index:(t+1).toString(),title:e.innerText,id:(0,a.Hq)((0,a.QF)("'",e.href)[1]).toString()}))),ke=(e,a,r,o)=>{if(!t.nW.Walkthroughs.Test.walkthroughPagePreviewUrlWithPageId())return null;const n=r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPreview.populateAsideContentWalkthroughPagesJs}`),i=n.querySelector("tbody"),l=o.querySelector(`#${t.gT.Templates.StaffWalkthroughImprovements.WalkthroughPreview.walkthroughPagesSummary}`).content.firstElementChild.cloneNode(!0),h=(0,s.XK)(l,{urls:{walkthroughPreviewWithWalkthroughId:`/staff/walkthrough/walkthroughpreview.aspx?walkthroughid=${e}`}});return i.appendChild(h),pe(a).forEach((e=>{const a=(new URLSearchParams(window.location.search).get("pageid")===e.id?o.querySelector(`#${t.gT.Templates.StaffWalkthroughImprovements.WalkthroughPreview.walkthroughPagesNumberedSelected}`):o.querySelector(`#${t.gT.Templates.StaffWalkthroughImprovements.WalkthroughPreview.walkthroughPagesNumbered}`)).content.firstElementChild.cloneNode(!0),r=(0,s.XK)(a,{populateAsideContentPreviewPage:e,urls:{walkthroughPreviewWithPageId:`/staff/walkthrough/walkthroughpagepreview.aspx?pageid=${e.id}`}});i.appendChild(r)})),n},ve=(e,r,o,n)=>{const i=o.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPreview.populateAsideContentWalkthroughAchievementsJs}`),l=i.querySelector("ul"),h=[...e.querySelectorAll("#scrolllstWalkthroughAchievementID tbody tr")],m=[...r.querySelectorAll("main ul.ach-panels li")],c=[],u=pe(e);return m.forEach((e=>{const t=e.querySelector("a.title").innerText.trim(),a=h.find((e=>e.querySelector(".c1").innerText.toLowerCase().trim()===t.toLowerCase()));if(!a)return;const r={title:t,description:e.querySelector("p").innerText,page:u.find((e=>a.querySelector(".c2").innerText.trim()===e.index.toString())),id:new URL(e.querySelector("a.title").href).pathname.split("/")[1].slice(1),src:"https://www.trueachievements.com/imagestore/m/0004101700/4101796.jpg"};c.push(r)})),c.sort(((e,t)=>(0,a.Hq)(e.page.index)-(0,a.Hq)(t.page.index))),c.forEach((e=>{const a=n.querySelector(`#${t.gT.Templates.StaffWalkthroughImprovements.WalkthroughPreview.walkthroughAchievements}`).content.firstElementChild.cloneNode(!0),r=(0,s.XK)(a,{populateAsideContentPreviewAchievement:e,urls:{walkthroughPreviewWithPageIdAndAchievementId:`/staff/walkthrough/walkthroughpagepreview.aspx?pageid=${e.page.id}#ap${e.id}`}});l.appendChild(r)})),i},fe=async(e,a,r)=>{const o=r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPreview.populateAsideContentWalkthroughThanksJs}`),n=await(0,s.FS)(`https://www.trueachievements.com/staff/walkthrough/walkthroughpreview.aspx?walkthroughid=${e}`),i=(new DOMParser).parseFromString(n,"text/html").querySelector(".summary dd a").href;return(0,s.XK)(o,{populateAsideContentPreviewThanks:{thread:i,total:"0"}})},we=()=>{ce.classList.toggle("ta-x-hide"),ce.classList.contains("ta-x-hide")?me.removeAttribute("data-ta-x-loaded"):me.setAttribute("data-ta-x-loaded","true")},xe=async()=>{t.uP.populateAsideContent&&(await(async()=>{const e=(new DOMParser).parseFromString(he,"text/html"),r=await(0,a.br)(".main aside");r.appendChild(e.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPreview.populateAsideContentJs}`)),me=r.querySelector(`.${t.gT.Styles.StaffWalkthroughImprovements.WalkthroughPreview.populateAsideContentJs}`),ce=me.querySelector(`.${t.gT.Styles.Components.AskLoader.askJs}`),ue()})(),(()=>{const e=me.querySelector(`.${t.gT.Styles.Components.AskLoader.buttonJs}`),a=me.querySelector(`.${t.gT.Styles.Components.AskLoader.inputJs}`);e.addEventListener("click",(async e=>{if(e.target instanceof HTMLElement){e.preventDefault(),e.stopPropagation();try{if(""===a.value)return;we(),await ge(a.value)}catch{return}}}))})())},be=async()=>{t.nW.Walkthroughs.Test.preview()&&(0,a.Eh)("Walkthrough Preview",[{name:"walkthrough-preview-remove-aside",task:le},{name:"walkthrough-preview-populate-aside-content",task:xe}])},ye=async()=>{t.mg.enabled&&t.nW.Walkthroughs.Test.all()&&await(0,a.br)("body")&&(document.body.classList.add(t.gT.Styles.StaffWalkthroughImprovements.featureJs,t.gT.Styles.StaffWalkthroughImprovements.featureStyle),(0,a.Eh)("Staff Walkthrough Improvements",[{name:"staff-walkthrough-improvements-manage-walkthrough",task:M},{name:"staff-walkthrough-improvements-walkthrough-preview",task:be},{name:"staff-walkthrough-improvements-walkthrough-page",task:V},{name:"staff-walkthrough-improvements-edit-walkthrough",task:ne}],4))};var Se=__webpack_require__("./src/features/forum-improvements/walkthroughs/show-owner-progress.ts");const _e=async()=>{const e=new URLSearchParams(window.location.search);if((t.wC.Test.viewBoardUrlWithBoardId()||t.wC.Test.viewThreadUrlWithThreadId())&&(!t.wC.Test.viewBoardUrlWithBoardId()||"1431"===e.get("messageboardid"))){if(t.wC.Test.viewThreadUrlWithThreadId()){const e=await(0,a.br)("#oMessageThread .pagetitle");if(!e||"walkthroughs"!==e.innerText.toLowerCase())return}(0,a.Eh)("Walkthrough Page",[{name:"walkthroughs-show-owner-progress",task:Se.Z}])}},We=async()=>{t.i_.enabled&&t.wC.Test.all()&&await(0,a.br)("body")&&(document.body.classList.add(t.gT.Styles.ForumImprovements.featureJs,t.gT.Styles.ForumImprovements.featureStyle),(0,a.Eh)("Forum Improvements",[{name:"forum-improvements-walkthroughs",task:_e}]))},Pe=async()=>{if(!t.Bb.sales.autoSortBy)return;if(t.Bb.sales.autoSortByValue.includes("product")&&"asc"===t.Bb.sales.autoSortByOrder)return;await(0,a.br)(".newsitem .sale [data-sort]")&&(await(0,a.br)(".author"),await(async()=>{const e=[...document.querySelectorAll("table.sale")];await(0,a.Eh)("AutoSortBy - Tables",e.map((e=>({name:"auto-sort-by-table",task:async()=>{const a=[...e.querySelectorAll(".headers [data-sort]")].find((e=>t.Bb.sales.autoSortByValue.includes(e.innerText.replace(" ","-").toLowerCase().trim())));if(a)do{a.click(),await(0,s.Dc)()}while(!a.classList.contains(`sorting-${t.Bb.sales.autoSortByOrder}`))}}))))})())},Te=async()=>{(0,a.Eh)("Sales News",[{name:"sales-auto-sort-by",task:Pe}])},Ie=async()=>{t.Bb.enabled&&t.du.Test.newsUrl()&&await(0,a.br)("body")&&(document.body.classList.add(t.gT.Styles.NewsImprovements.featureJs,t.gT.Styles.NewsImprovements.featureStyle),(0,a.Eh)("News Improvements",[{name:"news-improvements-sales",task:Te}]))};const Ae=async()=>{if(!t.Tt.addHighlightGamesNotInCollectionButton)return;if(!t.Rv.Test.gamesUrl())return;const e=await(0,a.br)(".search-and-filter");if(!e)return;const r=(new DOMParser).parseFromString('<a class="button js-ta-x-games-improvements-highlight-games-collection-button" href="#">Highlight games not in collection</a>',"text/html");e.appendChild(r.querySelector(`.${t.gT.Styles.GamesImprovements.highlightGamesButtonJs}`));(e=>{e.addEventListener("click",(async()=>{[...document.querySelectorAll('#oGameList img[alt*="Add game to My Game Collection"]')].forEach((e=>{const t=e.closest("tr");t.classList.remove("odd","even"),t.classList.add("green")}))}))})(e.querySelector(`.${t.gT.Styles.GamesImprovements.highlightGamesButtonJs}`))},Me=async()=>{if(!t.TM.gameAchievementsDefaultStatus)return;const e=(0,t.TS)(window.location.href,["pathname","search"]),r=await(0,a.br)(`#${t.TM.gameAchievementsDefaultStatusValue}`);if(e!==t.Ct.gameAchievementsDefaultStatusPathName){if(t.Ct.gameAchievementsDefaultStatusPathName=(0,t.TS)(window.location.href,["pathname","search"]),t.Rv.Test.achievementsUrlWithGamerId()&&new URLSearchParams(window.location.search).get("gamerid")!==t.gT.gamerId)return;r.hasAttribute("checked")||r.click()}},Ee=async()=>{t.Rv.Test.achievementsUrl()&&(0,a.Eh)("Games Achievements",[{name:"games-achievements-change-to-default-status",task:Me}])},Ce=async()=>{t.bc.enabled&&(0,a.Eh)("Games Improvements",[{name:"games-improvements-add-highlight-games-button",task:Ae},{name:"games-improvements-achievements",task:Ee}])};const Le=async()=>{if(!t.EF.addGroupByGameButton)return;if(!t.LG.Test.gamerAchievementsUrl())return;const e=await(0,a.br)(".search-and-filter");if(!e)return;const r=(new DOMParser).parseFromString('<a class="button js-ta-x-gamer-improvements-group-by-game-button" href="#">Group achievements by game</a>',"text/html");e.appendChild(r.querySelector(`.${t.gT.Styles.GamerImprovements.groupByGameButtonJs}`));(e=>{e.addEventListener("click",(async()=>{const e=document.querySelector("table#oAchievementList tbody");[...e.querySelectorAll("tr.even, tr.odd")].sort(((e,t)=>{const a=e.querySelector(".gamethumb img").getAttribute("alt"),r=t.querySelector(".gamethumb img").getAttribute("alt");return a>r?1:a<r?-1:0})).forEach(((t,a)=>{t.classList.remove("odd","even"),t.classList.add(a+1&1?"even":"odd"),e.appendChild(t)}))}))})(e.querySelector(`.${t.gT.Styles.GamerImprovements.groupByGameButtonJs}`))},Be=async()=>{t.rI.enabled&&t.LG.Test.all()&&(0,a.Eh)("Gamer Improvements",[{name:"gamer-improvments-add-group-by-game-button",task:Le}])},$e=async()=>{await(0,a.br)("body")&&(document.body.classList.add(t.gT.Styles.root),GM_addStyle(':root{--ta-x-sticky-header-height: $ta-x-sticky-header-height}body.trueachievement-extras .ta-x-hide{display:none}@media(max-width: 1349px){body.trueachievement-extras .middle{width:100%;max-width:1200px}}body.trueachievement-extras .ta-x-flex-break{flex-basis:100%;height:0;border:0;padding:0;margin:0}body.trueachievement-extras .ta-x-article-loader{text-align:center}body.trueachievement-extras .ta-x-article-loader img{width:25px;height:25px;margin:0 auto;margin-bottom:.8rem}body.trueachievement-extras [data-ta-x-loaded] .ta-x-article-loader{display:none}body.trueachievement-extras .ta-x-snackbar{visibility:hidden;min-width:250px;margin-left:-125px;background-color:#333;text-align:center;border-radius:1.5rem;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px}body.trueachievement-extras .ta-x-snackbar-show{visibility:visible;animation:fadein .5s,fadeout .5s 2.5s}body.trueachievement-extras .ta-x-snackbar h2{color:#bbb;border-left:3px solid #3f67a4}body.trueachievement-extras .ta-x-snackbar h2.warning{border-color:#f57921}body.trueachievement-extras .ta-x-snackbar h2.danger{border-color:#f52721}body.trueachievement-extras .ta-x-snackbar h2.success{border-color:#58bb12}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}body.trueachievement-extras .ta-x-ask-loader-container:not([data-ta-x-loaded]) article{display:block}body.trueachievement-extras .ta-x-ask-loader-container article{display:flex;justify-content:space-between}body.trueachievement-extras .ta-x-ask-loader-container article .ta-x-article-loader svg{animation-name:spin;animation-duration:2000ms;animation-iteration-count:infinite;animation-timing-function:linear;display:block;margin:auto;margin-bottom:.8rem;width:5rem}body.trueachievement-extras .ta-x-ask-loader-container article .ta-x-ask-loader-ask>div{display:flex;flex-direction:column}body.trueachievement-extras .ta-x-ask-loader-container article .ta-x-ask-loader-ask>div label{margin-bottom:.9rem}body.trueachievement-extras .ta-x-ask-loader-container article .ta-x-ask-loader-ask>div+input{width:100%;margin:0;margin-top:.9rem}body.trueachievement-extras .ta-x-ask-loader-container article .ta-x-ask-loader-ask>div+input:hover{margin-bottom:2px}body.trueachievement-extras .ta-x-y-show{transform:translateY(0);transition:transform .5s ease}body.trueachievement-extras .ta-x-y-hide{transform:translateY(-100%);transition:transform .5s ease}body.trueachievement-extras .ta-x-y-hide-no-transition{transform:translateY(-100%)}body.trueachievement-extras .ta-x-settings-menu-settings{max-height:547px;overflow-y:scroll !important;padding:0 1rem !important;padding-bottom:1rem !important;height:100%;position:relative}body.trueachievement-extras .ta-x-settings-menu-settings>div{display:block;padding:0}body.trueachievement-extras .ta-x-settings-menu-settings .frm-grp{user-select:none;margin-right:0}body.trueachievement-extras .ta-x-settings-menu-settings .frm-sel::after{top:10px}body.trueachievement-extras .ta-x-settings-menu-settings .t-settings>div{flex-wrap:wrap}body.trueachievement-extras .ta-x-settings-menu-settings .t-settings>div>label{max-width:80%}body.trueachievement-extras .ta-x-settings-menu-settings .t-settings .ta-x-checkbox-help-text{font-size:1.2rem;padding-top:.5rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item{position:absolute;display:none;width:313px;padding-bottom:1rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item-show{display:block}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper{display:flex;flex-wrap:wrap}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper a,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper a{width:100%}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper h1,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper h2,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper h1,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper h2{width:100%}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper h1,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper h1{margin-bottom:1rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper h2,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper h2{border-top:2px solid #0e5814;border-bottom:2px solid #0e5814;padding:.5rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper{padding-top:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-credits-wrapper h1{border-top:2px solid #0e5814;border-bottom:2px solid #0e5814;padding:.5rem;margin-bottom:.5rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-settings-menu-changelog-wrapper{border-bottom:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-item .ta-x-markdown-marker{flex-basis:unset;align-self:center;padding-right:1rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion{flex-wrap:wrap;border:0;padding-bottom:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion:last-of-type{padding-bottom:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header,body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-body{width:100%}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header{padding:1rem;flex-shrink:unset;color:#fff;cursor:pointer;user-select:none}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header span{width:100%;pointer-events:none}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header svg{height:20px;pointer-events:none}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header.collapsed svg{transition:all .5s linear}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-header.expanded svg{transform:rotate(-180deg)}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-body{max-height:0;transition:max-height .5s ease-out;overflow:hidden}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-body[data-parent-accordion-body]{border:1px solid #161616;border-top:0;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem;padding:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-body[data-parent-accordion-body] .ta-x-settings-menu-settings-accordion{margin:0;padding:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion-body[data-parent-accordion-body] .ta-x-settings-menu-settings-accordion-header{border-radius:0}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion .t-settings>div{padding:1rem 0;margin:0 1rem}body.trueachievement-extras .ta-x-settings-menu-settings .ta-x-settings-menu-settings-accordion .t-settings>div:last-of-type{border:0}body.trueachievement-extras .ta-x-settings-menu-columned-setting{flex-direction:column;align-items:flex-start}body.trueachievement-extras .ta-x-settings-menu-columned-setting>div:first-of-type{display:flex;align-items:center;justify-content:space-between;width:100%}body.trueachievement-extras .ta-x-settings-menu-columned-setting>div:first-of-type>label{max-width:80%}body.trueachievement-extras .ta-x-settings-menu-columned-setting .frm-sel{padding-top:1rem}body.trueachievement-extras .ta-x-settings-menu-bottom{background:#4a5568;position:absolute;bottom:0;display:block;width:100%;padding:0 1rem !important}body.trueachievement-extras .ta-x-settings-menu-bottom .title{margin-bottom:0;color:#ddd;border:0}body.trueachievement-extras .ta-x-settings-menu-bottom .title a{background:unset}body.trueachievement-extras .ta-x-settings-menu-bottom .title a:hover{text-decoration:underline}body.trueachievement-extras .ta-x-settings-menu .close i{pointer-events:none}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu-bottom .buttons{border-color:#000 !important}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu-bottom .buttons a{background:#4299e1 !important}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu .ta-x-settings-menu-settings-accordion-header{color:#ddd}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu .ta-x-settings-menu-settings-accordion-header>label{color:#ddd !important;padding:0;text-align:left;pointer-events:none}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu .ta-x-settings-menu-settings-accordion-header .frm-tgl{pointer-events:none}body.trueachievement-extras [data-theme=dark] .ta-x-settings-menu .ta-x-settings-menu-settings-accordion-header .frm-tgl>label{padding:0;pointer-events:none}body.trueachievement-extras .ta-x-sticky-header{position:fixed;top:0;width:100%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements{min-width:unset !important;overflow:auto}body.trueachievement-extras.ta-x-staff-walkthrough-improvements main{min-height:unset !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page{position:unset;display:flex;flex-direction:column}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector#oWalkthroughImageViewer{width:321px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .noimages,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .itemname{padding:5px;text-align:center;font-size:unset !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header{position:sticky;border-bottom:1px solid #000;display:flex;flex-direction:column;background-color:#fff}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header .noimages{margin-top:0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"]{text-align:center;padding:5px;cursor:pointer !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"]:hover{text-decoration:underline}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer{display:flex;flex-wrap:wrap}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer .ivimage{position:unset;margin:5px;max-width:46%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title{text-align:center;padding-top:3px;white-space:break-spaces}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-source-code-button svg{width:32px;margin-left:-10px;margin-right:-4px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg{height:20px;pointer-events:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg path{fill:#555;filter:drop-shadow(21px 21px #fff);pointer-events:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg:hover path{fill:#333}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark{display:block}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle [data-ta-x-tinymce-theme=dark] svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light{display:block}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle [data-ta-x-tinymce-theme=dark] svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar{border-bottom:1px solid #ddd;width:var(--ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar-width, 0);top:var(--ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar-top, 0) !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header{background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header .itemname{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg path{fill:#b5b9bf;filter:drop-shadow(21px 21px #000)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar{border-color:#232b33}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar.ta-x-y-hide{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)));transition:transform .5s ease}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar.ta-x-y-hide-no-transition{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)))}body.trueachievement-extras.ta-x-staff-walkthrough-improvements>.mce-menu.mce-floatpanel{top:var(--ta-x-staff-walkthrough-improvements-edit-walkthrough-page-sticky-tinymce-toolbar-floating-menu, 0) !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divWalkthroughHolder{position:unset;margin-top:unset;height:unset;display:flex;justify-content:space-between}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .buttons{display:flex}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button{display:block;flex-grow:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough{margin:0;margin-bottom:3px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough:hover{margin-bottom:5px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .clearboth{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughs,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughAchievements,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGames,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGamers,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughOtherSiteLink{position:unset;top:unset;left:unset;display:block;margin:0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough{flex:1;margin:0 1.5rem}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #btnWalkthrough{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container{display:flex;flex-direction:column;justify-content:space-around}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container{display:flex}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPagePreview{margin-left:0;position:unset;width:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPagePreview{flex:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions{height:100%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history{position:relative;top:var(--ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history-top, 0)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)));transition:transform .5s ease}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide-no-transition{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)))}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions .content .buttons{display:flex;justify-content:center;flex-direction:column}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions .content .buttons .button{flex:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions .content .buttons .button:not(:first-of-type){margin-top:5px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions .content .buttons .clearboth{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-move-buttons-to-left #chWalkthroughPagePreview .content .buttons{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-move-buttons-to-left #chWalkthroughPagePreview .content .buttons .clearboth{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements main{max-width:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements main .admin-page .walkthroughsummary+.walkthroughpagelinks{flex-direction:column}body.trueachievement-extras.ta-x-staff-walkthrough-improvements main .admin-page .walkthroughsummary+.walkthroughpagelinks a.next{margin-left:0}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress:not([data-ta-x-loaded]) article{display:block}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article{display:flex;justify-content:space-between}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .walthroughprogress{display:flex;justify-content:center;align-items:center;width:100%}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .walthroughprogress .walkthroughauthor{margin-right:1rem}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .walthroughprogress .clearboth{display:none}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .ta-x-forum-improvements-walkthroughs-show-owner-progress-editor-wrapper{display:flex;flex-direction:column;justify-content:center;flex-basis:100%}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .ta-x-forum-improvements-walkthroughs-show-owner-progress-editor-row{display:flex;align-items:center;margin-bottom:1rem}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .ta-x-forum-improvements-walkthroughs-show-owner-progress-editor-row:last-of-type{margin-bottom:0}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .ta-x-forum-improvements-walkthroughs-show-owner-progress-editor{margin-left:1rem}body.trueachievement-extras.ta-x-forum-improvements .ta-x-forum-improvements-walkthroughs-show-owner-progress article .thanks{display:flex;flex-direction:column;align-items:center;padding-left:1rem;justify-content:center}'))};e.addRequestCallback((e=>r.publish("ajaxIntercept:request",e))),e.addResponseCallback((e=>r.publish("ajaxIntercept:response",e))),e.wire(),(async()=>{(0,a.Eh)("Components",[{name:"component:snackbar",task:i},{name:"component:accordion",task:o}]),(0,a.Eh)("Features",[{name:"feature:styles",task:$e},{name:"feature:settings-menu",task:d},{name:"feature:sticky-header",task:w},{name:"feature:staff-walkthrough-improvements",task:ye},{name:"feature:forum-improvements",task:We},{name:"feature:news-improvements",task:Ie},{name:"feature:games-improvements",task:Ce},{name:"feature:gamer-improvements",task:Be}],4),(0,a.Eh)("Cache",[{name:"cache:expired",task:t.Ct.clearExpired.bind(t.Ct)},{name:"cache:legacy",task:t.Ct.clearLegacy.bind(t.Ct)}])})()})()})();