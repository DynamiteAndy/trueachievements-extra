// ==UserScript==
// @name          TrueAchievements Extra
// @namespace     dynamite-andy
// @version       2.0.0
// @iconURL       https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon32x32.ico?raw=true
// @icon64URL     https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon64x64.ico?raw=true
// @updateURL     https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @downloadURL   https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @supportURL    https://github.com/andrewcartwright1/trueachievements-extra/issues
// @description   Provides a variety of extras for use on TrueAchievements
// @author        Dynamite Andy - dynamiteandy@gmail.com
// @match         http*://*.trueachievements.com/*
// @run-at        document-start
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_deleteValue
// @grant         GM_addStyle
// ==/UserScript==
(()=>{"use strict";var e={"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/scss/index.scss":(e,t,a)=>{a.d(t,{Z:()=>i});var r=a("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),n=a.n(r),o=a("./node_modules/css-loader/dist/runtime/api.js"),s=a.n(o)()(n());s.push([e.id,':root{--ta-x-sticky-header-height: $ta-x-sticky-header-height}body.trueachievement-extras .ta-x-hide{display:none}@media(min-width: 1200px){body.trueachievement-extras .middle{width:100%;max-width:1200px}}body.trueachievement-extras .ta-x-y-show{transform:translateY(0);transition:transform .5s ease}body.trueachievement-extras .ta-x-y-hide{transform:translateY(-100%);transition:transform .5s ease}body.trueachievement-extras .ta-x-y-hide-no-transition{transform:translateY(-100%)}body.trueachievement-extras .ta-x-settings-menu-column-setting{flex-direction:column;align-items:flex-start}body.trueachievement-extras .ta-x-settings-menu-column-setting .frm-grp{padding-top:.5rem}body.trueachievement-extras .ta-x-settings-menu-sub-setting{padding-left:2rem}body.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable{flex-wrap:wrap}body.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable label{flex-basis:80%;flex-grow:1}body.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable .frm-tgl{margin-right:0}body.trueachievement-extras .ta-x-settings-menu .close i{pointer-events:none}body.trueachievement-extras .ta-x-sticky-header{position:fixed;top:0;width:100%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements{min-width:unset !important;overflow:auto}body.trueachievement-extras.ta-x-staff-walkthrough-improvements main{min-height:unset !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page{position:unset;display:flex;flex-direction:column}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector#oWalkthroughImageViewer{width:321px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .noimages,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .itemname{padding:5px;text-align:center;font-size:unset !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header{position:sticky;border-bottom:1px solid #000;display:flex;flex-direction:column;background-color:#fff}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header .noimages{margin-top:0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"]{text-align:center;padding:5px;cursor:pointer !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"]:hover{text-decoration:underline}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer{display:flex;flex-wrap:wrap}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer .ivimage{position:unset;margin:5px;max-width:46%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title{text-align:center;padding-top:3px;white-space:break-spaces}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg{height:20px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg path{fill:#555;filter:drop-shadow(21px 21px #fff)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg:hover path{fill:#333}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark{display:block}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle[data-ta-x-tinymce-theme=dark] svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light{display:block}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle[data-ta-x-tinymce-theme=dark] svg.ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header{background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle svg path{fill:#b5b9bf;filter:drop-shadow(21px 21px #000)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divWalkthroughHolder{position:unset;margin-top:unset;height:unset;display:flex;justify-content:space-between}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .buttons{display:flex}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button{display:block;flex-grow:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough{margin:0;margin-bottom:3px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough:hover{margin-bottom:5px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .clearboth{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughs,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughAchievements,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGames,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGamers,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughOtherSiteLink{position:unset;top:unset;left:unset;display:block;margin:0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough{flex:1;margin:0 1.5rem}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #btnWalkthrough{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container{display:flex;flex-direction:column;justify-content:space-around}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container{display:flex}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPagePreview{margin-left:0;position:unset;width:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPagePreview{flex:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions{height:100%}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history{position:relative;top:var(--ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history-top, 0)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)));transition:transform .5s ease}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide-no-transition{transform:translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)))}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button #chWalkthroughPageVersions .content .buttons{display:flex;justify-content:center;flex-direction:column}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .button,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .button{flex:1}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .button:not(:first-of-type),body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .button:not(:first-of-type){margin-top:5px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .clearboth,body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .clearboth{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPagePreview .content .buttons{display:none}body.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPagePreview .content .buttons .clearboth{display:none}',""]);const i=s},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/scss/staff-walkthrough-improvements/tinymce/charcoal/skin.scss":(e,t,a)=>{a.d(t,{Z:()=>i});var r=a("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),n=a.n(r),o=a("./node_modules/css-loader/dist/runtime/api.js"),s=a.n(o)()(n());s.push([e.id,"body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel{border:0 solid #232b33;background-color:#404952}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-toolbar-grp{padding:2px 0}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-title,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-label{color:#b5b9bf;text-shadow:0 1px 1px rgba(0,0,0,.75)}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-path-item{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel i.mce-i-resize{color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel i.mce-ico{text-shadow:1px 1px #000;color:#b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel i.mce-caret{border-top:4px solid #b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn{border:1px solid #364049 !important;border-color:#202a33 !important;text-shadow:0 1px 1px rgba(0,0,0,.75);background-color:#4c5761 !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn.mce-active,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn:hover,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn.mce-active,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn:hover{background-image:none !important;background-color:#004364 !important;border-color:#24292e !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn.mce-disabled,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn.mce-disabled{cursor:default}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn button,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn button{padding:4px 10px;font-size:14px;cursor:pointer;color:#b5b9bf;text-align:center}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-menubtn button span,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn button span{color:unset}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-panel .mce-btn-group .mce-btn{border-width:1px;margin:0;margin-left:2px}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu{background:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu-item-normal .mce-text{color:#ddd;background:rgba(0,0,0,0) !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu-item-normal.mce-selected,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu-item-normal.mce-active{background-color:#0085c7}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu-item-normal:hover{text-decoration:none;color:#fff;background-color:#006597}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-menu-item-normal .mce-caret{border-left:4px solid #b5b9bf}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-grid-border a.mce-active{border-color:#d6d6d6;background:#0085c7}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-text-center{color:#ddd}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] .mce-edit-area{border:1px solid #000 !important;border-right:0 !important;border-bottom:0 !important}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] #oWalkthroughImageViewer{border:0 solid #232b33;background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] #oWalkthroughImageViewer .imageviewer{background-color:#2f3740}body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] #oWalkthroughImageViewer .noimages,body.trueachievement-extras.ta-x-staff-walkthrough-improvements [data-theme=dark] #oWalkthroughImageViewer .itemname{color:#b5b9bf}",""]);const i=s},"./node_modules/css-loader/dist/runtime/api.js":e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",r=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),r&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),r&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,r,n,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var h=0;h<e.length;h++){var m=[].concat(e[h]);r&&s[m[0]]||(void 0!==o&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=o),a&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=a):m[2]=a),n&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=n):m[4]="".concat(n)),t.push(m))}},t}},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":e=>{e.exports=function(e){return e[1]}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":e=>{var t=[];function a(e){for(var a=-1,r=0;r<t.length;r++)if(t[r].identifier===e){a=r;break}return a}function r(e,r){for(var o={},s=[],i=0;i<e.length;i++){var l=e[i],h=r.base?l[0]+r.base:l[0],m=o[h]||0,c="".concat(h," ").concat(m);o[h]=m+1;var u=a(c),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(g);else{var d=n(g,r);r.byIndex=i,t.splice(i,0,{identifier:c,updater:d,references:1})}s.push(c)}return s}function n(e,t){var a=t.domAPI(t);a.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,n){var o=r(e=e||[],n=n||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=a(o[s]);t[i].references--}for(var l=r(e,n),h=0;h<o.length;h++){var m=a(o[h]);0===t[m].references&&(t[m].updater(),t.splice(m,1))}o=l}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":e=>{var t={};e.exports=function(e,a){var r=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(a)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(e,t,a)=>{e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var r="";a.supports&&(r+="@supports (".concat(a.supports,") {")),a.media&&(r+="@media ".concat(a.media," {"));var n=void 0!==a.layer;n&&(r+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),r+=a.css,n&&(r+="}"),a.media&&(r+="}"),a.supports&&(r+="}");var o=a.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nc=void 0,(()=>{const e=e=>"string"==typeof e?new Date(e):e,t=t=>new Date<e(t);class r{static get memoize(){const e=GM_getValue("trueachievements-extra-memoized","");return 0!==e.length?new Map(JSON.parse(e)):new Map}static set memoize(e){GM_setValue("trueachievements-extra-memoized",JSON.stringify(Array.from(e.entries())))}static forceClear(){GM_deleteValue("trueachievements-extra-memoized")}static clearExpired(){const e=Array.from(this.memoize.entries()).filter((e=>t(e[1].expiryTime)));this.memoize=new Map(e)}}var n,o,s,i,l,h,m,c,u,g,d,f,p,k,v,y;const w="ta-x",x="js-ta-x",b="--ta-x";class S{}S.Styles=((n=class{}).root="trueachievement-extras",n.Animations=((o=class{}).yShow=`${w}-y-show`,o.yHide=`${w}-y-hide`,o.yHideNoTransition=`${o.yHide}-no-transition`,o),n.Base=((s=class{}).hide=`${w}-hide`,s),n.SettingsMenu=((i=class{}).featureJs=`${x}-settings-menu`,i.featureStyle=`${w}-settings-menu`,i.subSetting=`${i.featureStyle}-sub-setting`,i.wrenchJs=`${i.featureJs}-wrench`,i.closeJs=`${i.featureJs}-close`,i),n.StickyHeader=((l=class{}).featureJs=`${x}-sticky-header`,l.featureStyle=`${w}-sticky-header`,l),n.StaffWalkthroughImprovements=((h=class{}).featureJs=`${x}-staff-walkthrough-improvements`,h.featureStyle=`${w}-staff-walkthrough-improvements`,h.WalkthroughPage=((m=class{}).featureJs=`${x}-staff-walkthrough-improvements-walkthrough-page`,m.featureStyle=`${w}-staff-walkthrough-improvements-walkthrough-page`,m.containerJs=`${m.featureJs}-container`,m.containerStyle=`${m.featureStyle}-container`,m.stickyPageHistoryJs=`${m.featureJs}-sticky-page-history`,m.stickyPageHistoryStyle=`${m.featureStyle}-sticky-page-history`,m.editPageLeftJs=`${m.featureJs}-edit-page-left`,m.editPageLeftStyle=`${m.featureStyle}-edit-page-left`,m.walkthroughTeamButtonJs=`${m.featureJs}-walkthrough-team-button`,m.walkthroughTeamButtonStyle=`${m.featureStyle}-walkthrough-team-button`,m),h.ManageWalkthroughPage=((c=class{}).featureJs=`${x}-staff-walkthrough-improvements-manage-walkthrough-page`,c.featureStyle=`${w}-staff-walkthrough-improvements-manage-walkthrough-page`,c.containerJs=`${c.featureJs}-container`,c.containerStyle=`${c.featureStyle}-container`,c.clickableAchievementsJs=`${c.featureJs}-clickable-achievements`,c),h.EditWalkthroughPage=((u=class{}).featureJs=`${x}-staff-walkthrough-improvements-edit-walkthrough-page`,u.featureStyle=`${w}-staff-walkthrough-improvements-edit-walkthrough-page`,u.containerJs=`${u.featureJs}-container`,u.containerStyle=`${u.featureStyle}-container`,u.improvedImageSelectorJs=`${u.featureJs}-improved-image-selector`,u.improvedImageSelectorStyle=`${u.featureStyle}-improved-image-selector`,u.improvedImageSelectorContainerJs=`${u.improvedImageSelectorJs}-container`,u.improvedImageSelectorContainerStyle=`${u.improvedImageSelectorStyle}-container`,u.improvedImageSelectorImageTitleJs=`${u.improvedImageSelectorJs}-image-title`,u.improvedImageSelectorImageTitleStyle=`${u.improvedImageSelectorStyle}-image-title`,u.themeToggleJs=`${u.featureJs}-theme-toggle`,u.themeToggleStyle=`${u.featureStyle}-theme-toggle`,u.themeToggleDarkStyle=`${u.themeToggleStyle}-dark`,u.themeToggleLightStyle=`${u.themeToggleStyle}-light`,u),h),n.Variables=((g=class{}).StickyHeader=((d=class{}).featureVariableStylePrefix=`${b}-sticky-header`,d.height=`${d.featureVariableStylePrefix}-height`,d),g.StaffWalkthroughImprovements=((f=class{}).WalkthroughPage=((p=class{}).featureVariableStylePrefix=`${b}-staff-walkthrough-improvements-walkthrough-page`,p.stickyPageHistoryTop=`${p.featureVariableStylePrefix}-sticky-page-history-top`,p),f),g),n),S.Templates=((k=class{}).StaffWalkthroughImprovements=((v=class{}).ManageWalkthroughPage=((y=class{}).featureTemplatePrefix="ta-x-template-manage-walkthrough",y.achievementRow=`${y.featureTemplatePrefix}-achievement-row`,y),v),k);const W=(e,t=document.documentElement,a=1e4)=>new Promise((r=>{if(t.querySelector(e))return r(t.querySelector(e));let n;const o=setTimeout((()=>{n.disconnect(),r(null)}),a);n=new MutationObserver((()=>{t.querySelector(e)&&(n.disconnect(),clearTimeout(o),r(t.querySelector(e)))})),n.observe(t||document.documentElement,{childList:!0,subtree:!0})})),I=(e,t)=>{if(0===t.length)return Promise.resolve([]);const a=t.splice(e),r=t,n=[];let o=0;return new Promise((e=>{r.forEach((e=>{const a="function"==typeof e?e():e;n.push(a),a.then((e=>(t(),e)))}));const t=()=>{o===a.length?e(Promise.all(n)):(n.push(a[o]().then((e=>(t(),e)))),o++)}}))},T=(e,t=[])=>{t=Array.isArray(t)?t:[t];try{const a=new URL(e);let r="";for(let e=0;e<t.length;e++)a[t[e]]&&(r+=a[t[e]]);return r}catch(t){throw`${e} is not a valid url`}},P=new RegExp("^/a[0-9]*/.*","i"),L=new RegExp("^/a[0-9]*/.*","i"),M=new RegExp("^/game/.*/achievements$","i"),A=new RegExp("^/staff/walkthrough/editwalkthroughpage.aspx","i"),E=new RegExp("^/staff/walkthrough/managewalkthrough.aspx","i"),$=new RegExp("^/staff/walkthrough/managewalkthrough.aspx\\?walkthroughid=[0-9]*","i"),H=new RegExp("^/staff/walkthrough/walkthroughpage.aspx","i"),J=new RegExp("^/staff/walkthrough/walkthroughpreview.aspx","i"),V=new RegExp("^/staff/walkthrough/walkthroughpagepreview.aspx","i"),C=new RegExp("Today","i"),_=new RegExp("Yesterday","i"),D=(e,t)=>{const a=new RegExp(`${e}(.*?)${e}`),r=t.match(a);return r?r[1]:t},G={achievements:{achievementUrl:P,achievementUrlWithGamerId:L},game:{achievementsUrl:M},staff:{walkthrough:{editWalkthroughUrl:A,manageWalkthroughUrl:E,manageWalkthroughUrlWithWalkthroughId:$,walkthroughPageUrl:H,walkthroughPreviewUrl:J,walkthroughPagePreviewUrl:V}},words:{today:C,yesterday:_},test:{achievements:{achievementUrl:e=>P.test(T(e,"pathname")),achievementUrlWithGamerId:e=>L.test(T(e,["pathname","search"]))},game:{achievementsUrl:e=>M.test(T(e,"pathname"))},staff:{walkthrough:{all:e=>A.test(T(e,"pathname"))||E.test(T(e,"pathname"))||$.test(T(e,["pathname","search"]))||H.test(T(e,"pathname"))||J.test(T(e,"pathname"))||V.test(T(e,"pathname")),preview:e=>J.test(T(e,"pathname"))||V.test(T(e,"pathname")),editWalkthroughUrl:e=>A.test(T(e,"pathname")),manageWalkthroughUrl:e=>E.test(T(e,"pathname")),manageWalkthroughUrlWithWalkthroughId:e=>$.test(T(e,["pathname","search"])),walkthroughPageUrl:e=>H.test(T(e,"pathname")),walkthroughPreviewUrl:e=>J.test(T(e,"pathname")),walkthroughPagePreviewUrl:e=>V.test(T(e,"pathname"))}}},extractBetween:D},j=new Date((new Date).setHours(0,0,0,0)),O=(new Date(new Date(j).setDate(j.getDate()-1)),e=>{if("string"==typeof e){const t=parseInt(e.replace(/,/g,""),10);return isNaN(t)?null:t}return"boolean"==typeof e?e?1:0:"number"==typeof e?e:null}),q=e=>"string"==typeof e?"true"===e.toLowerCase()||"false"!==e.toLowerCase()&&null:"number"==typeof e?1===e||0!==e&&null:"boolean"==typeof e?e:null;var R=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),U=a.n(R),B=a("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),N=a.n(B),F=a("./node_modules/style-loader/dist/runtime/insertBySelector.js"),z=a.n(F),Y=a("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),Z=a.n(Y),K=a("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),Q=a.n(K),X=a("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),ee=a.n(X),te=a("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/scss/index.scss"),ae={};ae.styleTagTransform=ee(),ae.setAttributes=Z(),ae.insert=z().bind(null,"head"),ae.domAPI=N(),ae.insertStyleElement=Q();U()(te.Z,ae);const re=te.Z&&te.Z.locals?te.Z.locals:void 0,ne=async()=>{await W("body")&&(document.body.classList.add(S.Styles.root),GM_addStyle(re))};class oe{constructor(...e){1!==e.length||this.fromString(e[0])}fromString(e){try{const t=JSON.parse(e);this.selector=t.selector,this.value=q(t.value)}catch(e){}}isValid(){return null!=this.selector&&null!=this.value}toString(){return JSON.stringify(this)}}class se{constructor(e){const t=new Date;switch(e.deleteAfter.period){case"seconds":this.expiryTime=new Date(t.setSeconds(t.getSeconds()+e.deleteAfter.value));break;case"minutes":this.expiryTime=new Date(t.setMinutes(t.getMinutes()+e.deleteAfter.value));break;case"hours":this.expiryTime=new Date(t.setHours(t.getHours()+e.deleteAfter.value));break;case"days":this.expiryTime=new Date(t.setDate(t.getDate()+e.deleteAfter.value))}}setResponse(e){return this.response=e,this}fromString(e){try{const t=JSON.parse(e);this.expiryTime=t.expiryTime,this.response=t.response}catch(e){}}toString(){return JSON.stringify(this)}}const ie=r.memoize,le=async(e,a={},n={deleteAfter:{value:7,period:"days"}})=>{const o=ie.get(e);if(o&&t(new Date(o.expiryTime)))return o.response;const s=await(async(e,t={})=>(t.headers=t.headers||new Headers,t.method=t.method?t.method.toUpperCase():"GET",await fetch(e,t)))(e,a),i=await s.text();return ie.set(e,new se(n).setResponse(i)),r.memoize=ie,i},he=document.createElement("template"),me=(e,t={})=>{const{image:a,element:r}=t;he.appendChild(e),he.innerHTML=e.outerHTML.replace(/(\r\n|\n|\r)/gm,"").replace(/{GM_info.script.version}/g,GM_info.script.version||"").replace(/{image.title}/g,a?.title||"").replace(/{element.outerHTML}/g,r?.outerHTML||"");const n=he.content.firstChild;return he.innerHTML="",n},ce={stickyHeader:{get enabled(){return GM_getValue("trueachievements-extra-stickyHeader-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-stickyHeader-enabled",e)}},recentWinners:{get enabled(){return GM_getValue("trueachievements-extra-recentWinners-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-recentWinners-enabled",e)},get onlineUnlocksOnly(){return this.enabled&&GM_getValue("trueachievements-extra-recentWinners-onlineUnlocksOnly",!1)},set onlineUnlocksOnly(e){GM_setValue("trueachievements-extra-recentWinners-onlineUnlocksOnly",e)},get baseGameOnly(){return this.enabled&&GM_getValue("trueachievements-extra-recentWinners-baseGameOnly",!1)},set baseGameOnly(e){GM_setValue("trueachievements-extra-recentWinners-baseGameOnly",e)}},staffWalkthroughImprovements:{get enabled(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-enabled",e)},get stickyPageHistory(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-stickyPageHistory",!1)},set stickyPageHistory(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-stickyPageHistory",e)},get editPageLeft(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-editPageLeft",!1)},set editPageLeft(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-editPageLeft",e)},get walkthroughTeamButton(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-walkthroughTeamButton",!1)},set walkthroughTeamButton(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-walkthroughTeamButton",e)},get manageWalkthroughDefaultStatus(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatus",!1)},set manageWalkthroughDefaultStatus(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatus",e)},get improvedImageSelector(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-improvedImageSelector",!1)},set improvedImageSelector(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-improvedImageSelector",e)},get clickableTableLinks(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-clickableTableLinks",!1)},set clickableTableLinks(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-clickableTableLinks",e)},get manageWalkthroughDefaultStatusValue(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatusValue","-1")},set manageWalkthroughDefaultStatusValue(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatusValue",e)},get tinymceTheme(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-tinymceTheme",null)},set tinymceTheme(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-tinymceTheme",e)}}};let ue,ge;const de=e=>"SELECT"===e.nodeName,fe=e=>"INPUT"===e.nodeName&&"checkbox"===e.type,pe=async()=>{await(async()=>{const e=(new DOMParser).parseFromString('<div class="js-ta-x-settings-menu-wrench gamer-page" aria-haspopup="true">\r\n    <i class="fa fa-wrench"></i>\r\n</div>\r\n\r\n<div class="js-ta-x-settings-menu ta-x-settings-menu ta-x-hide">\r\n    <div class="middle">\r\n        <div class="wrap">\r\n            <div class="labels">\r\n                <label class="js-ta-x-settings-menu-close close">\r\n                    <i class="fa fa-close"></i>\r\n                </label>\r\n            </div>\r\n            <div class="contents">\r\n                <div class="t-settings optionpanel t-5 open" >\r\n                    <div>\r\n                        <label>Sticky Header</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStickyHeader" name="chkStickyHeader" data-config-area="stickyHeader"\r\n                                data-config-setting="enabled" checked="">\r\n                            <label for="chkStickyHeader"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label>Staff Walkthrough Improvements</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovements" name="chkStaffWalkthroughImprovements" data-config-area="staffWalkthroughImprovements"\r\n                                data-config-setting="enabled" checked="">\r\n                            <label for="chkStaffWalkthroughImprovements"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Stick Page History To Left</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsStickyPageHistory" name="chkStaffWalkthroughImprovementsStickyPageHistory"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="stickyPageHistory" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsStickyPageHistory"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Move Edit Page Button To The Left</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsEditPageLeft" name="chkStaffWalkthroughImprovementsEditPageLeft"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="editPageLeft" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsEditPageLeft"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Add Walkthrough Team Button</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsWalkthroughTeamButton" name="chkStaffWalkthroughImprovementsWalkthroughTeamButton"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="walkthroughTeamButton" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsWalkthroughTeamButton"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Improved Image Selector</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsImproveImageSelector" name="chkStaffWalkthroughImprovementsImproveImageSelector"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="improvedImageSelector" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsImproveImageSelector"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Clickable Table Links</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsClickableTableLinks" name="chkStaffWalkthroughImprovementsClickableTableLinks"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="clickableTableLinks" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsClickableTableLinks"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide ta-x-settings-menu-sub-setting-wrapable">\r\n                        <label class="ta-x-settings-menu-sub-setting">Default Status for Manage Walkthrough</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus" name="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="manageWalkthroughDefaultStatus" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus"> </label>\r\n                        </div>\r\n                        <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus", "value": "true" }\' class="frm-grp frm-sel ta-x-hide">\r\n                            <select id="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue" name="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue"  data-config-area="staffWalkthroughImprovements" data-config-setting="manageWalkthroughDefaultStatusValue" class="dropdown">\r\n                                <option value="-1" selected="">(All)</option>\r\n                                <option value="New">New</option>\r\n                                <option value="In progress">In progress</option>\r\n                                <option value="Ready for review">Ready for review</option>\r\n                                <option value="Ready for publish">Ready for publish</option>\r\n                                <option value="Published">Published</option>\r\n                                <option value="New owner required">New owner required</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- <div>\r\n                        <label>Show recent winners</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinners" name="chkRecentWinners"\r\n                                data-config-area="recentWinners" data-config-setting="enabled" checked="">\r\n                            <label for="chkRecentWinners"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkRecentWinners", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Online unlocks only</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinnersOnlineUnlocksOnly" name="chkRecentWinnersOnlineUnlocksOnly"\r\n                                data-config-area="recentWinners" data-config-setting="onlineUnlocksOnly" checked="">\r\n                            <label for="chkRecentWinnersOnlineUnlocksOnly"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkRecentWinners", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Base game only</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinnersBaseGameOnly" name="chkRecentWinnersBaseGameOnly"\r\n                                data-config-area="recentWinners" data-config-setting="baseGameOnly" checked="">\r\n                            <label for="chkRecentWinnersBaseGameOnly"> </label>\r\n                        </div>\r\n                    </div> --\x3e\r\n\r\n                    <ul class="list-links buttons">\r\n                        <li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Raise a Bug</a></li>\r\n                        <li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Request a Feature</a></li>\r\n                    </ul>\r\n                    <div class="title">\r\n                        <span>TrueAchievements Extra</span>\r\n                        </br>\r\n                        <span>Version {GM_info.script.version}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="js-ta-x-settings-menu-close close"></div>\r\n</div>',"text/html"),t=await W("header nav"),a=await W('[data-tgl="nav-gamer"]',t);t.insertBefore(e.querySelector(`.${S.Styles.SettingsMenu.wrenchJs}`),a.nextSibling),ge=document.querySelector(`.${S.Styles.SettingsMenu.wrenchJs}`);const r=await W(".nav-gamer"),n=me(e.querySelector(`.${S.Styles.SettingsMenu.featureJs}`));r.parentNode.insertBefore(n,r.nextSibling),ue=document.querySelector(`.${S.Styles.SettingsMenu.featureJs}`),[...ue.querySelectorAll("input, select")].forEach((e=>{const t=e.dataset.configArea,a=e.dataset.configSetting;t&&a&&(fe(e)?e.checked=ce[t][a]:de(e)&&(e.value=ce[t][a]))})),[...ue.querySelectorAll("[data-render-condition]")].forEach((e=>{const t=new oe(e.dataset.renderCondition);if(!t.isValid())return;const a=document.querySelector(t.selector);"checkbox"===a.type&&e.classList[a.checked===t.value?"remove":"add"](S.Styles.Base.hide)}))})(),ge.addEventListener("click",(()=>{ge.classList.add("active"),ue.classList.add("nav-gamer"),ue.classList.remove(S.Styles.Base.hide),ue.classList.add("open")})),ue.addEventListener("click",(({target:e})=>{e?.classList.contains(S.Styles.SettingsMenu.closeJs)&&(ue.classList.remove("open"),ue.classList.add(S.Styles.Base.hide),ue.classList.remove("nav-gamer"),ge.classList.remove("active"))})),ue.addEventListener("change",(({target:e})=>{const t=e,a=e,r=t?.dataset.configArea,n=t?.dataset.configSetting;de(t)?ce[r][n]=t.value:fe(t)&&(ce[r][n]=a?.checked),[...ue.querySelectorAll(`[data-render-condition*="#${t.id}"]`)].forEach((e=>{const t=new oe(e.dataset.renderCondition);t.isValid()&&"checkbox"===a.type&&e.classList[a.checked===t.value?"remove":"add"](S.Styles.Base.hide)}))}))};let ke,ve;const ye=()=>window.pageYOffset<=ke.offsetTop,we=async()=>{ce.stickyHeader.enabled&&(await(async()=>{ke=await W("header");const e=ke.parentNode,t=document.createElement("div");t.style.height=`${ke.offsetHeight}px`,e.insertBefore(t,ke),ke.classList.add(S.Styles.StickyHeader.featureJs,S.Styles.StickyHeader.featureStyle),document.documentElement.style.setProperty(S.Styles.Variables.StickyHeader.height,`${ke.offsetHeight}px`),ye()||ke.classList.add(S.Styles.Animations.yHideNoTransition)})(),await(async()=>{const e=await W(`.nav-gamer:not(.${S.Styles.SettingsMenu.featureJs})`),t=await W(`.${S.Styles.SettingsMenu.featureJs}`);let a=e.classList.contains("open")||t.classList.contains("open");window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;ye()?ke.classList.remove(S.Styles.Animations.yHide,S.Styles.Animations.yHideNoTransition):"inline"===ke.querySelector("#divtxtSearchContainer").style.display||q(ke.dataset.menuOpen)||(ve>e?(ke.classList.remove(S.Styles.Animations.yHide,S.Styles.Animations.yHideNoTransition),ke.classList.add(S.Styles.Animations.yShow)):ve<e&&(ke.classList.remove(S.Styles.Animations.yShow),ke.classList.add(S.Styles.Animations.yHide))),ve=e}));const r=new MutationObserver((e=>{e.forEach((({target:e,attributeName:t})=>{if("class"===t){const t=e.classList.contains("open");a!==t&&(a=t,ke.setAttribute("data-menu-open",t.toString()))}}))}));r.observe(e,{attributes:!0,attributeFilter:["style","class"]}),r.observe(t,{attributes:!0,attributeFilter:["style","class"]})})())},xe='<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header">\r\n\r\n</div>\r\n\r\n<a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>\r\n\r\n<p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{image.title}</p>\r\n\r\n<div class="mce-container mce-last mce-flow-layout-item mce-btn-group js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle" role="group" data-ta-x-tinymce-theme>\r\n    <div>\r\n        <div class="mce-widget mce-btn mce-first mce-last" tabindex="-1" role="button" aria-label="Switch theme">\r\n            <button role="presentation" type="button" tabindex="-1">\r\n                <svg class="ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\r\n                    \x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e\r\n                    <path fill="currentColor" d="M421.6 379.9c-.6641 0-1.35 .0625-2.049 .1953c-11.24 2.143-22.37 3.17-33.32 3.17c-94.81 0-174.1-77.14-174.1-175.5c0-63.19 33.79-121.3 88.73-152.6c8.467-4.812 6.339-17.66-3.279-19.44c-11.2-2.078-29.53-3.746-40.9-3.746C132.3 31.1 32 132.2 32 256c0 123.6 100.1 224 223.8 224c69.04 0 132.1-31.45 173.8-82.93C435.3 389.1 429.1 379.9 421.6 379.9zM255.8 432C158.9 432 80 353 80 256c0-76.32 48.77-141.4 116.7-165.8C175.2 125 163.2 165.6 163.2 207.8c0 99.44 65.13 183.9 154.9 212.8C298.5 428.1 277.4 432 255.8 432z"></path>\r\n                </svg>\r\n                <svg class="ta-x-staff-walkthrough-improvements-edit-walkthrough-page-theme-toggle-light" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\r\n                    \x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e\r\n                    <path fill="currentColor" d="M505.2 324.8l-47.73-68.78l47.75-68.81c7.359-10.62 8.797-24.12 3.844-36.06c-4.969-11.94-15.52-20.44-28.22-22.72l-82.39-14.88l-14.89-82.41c-2.281-12.72-10.76-23.25-22.69-28.22c-11.97-4.936-25.42-3.498-36.12 3.844L256 54.49L187.2 6.709C176.5-.6016 163.1-2.039 151.1 2.896c-11.92 4.971-20.4 15.5-22.7 28.19l-14.89 82.44L31.15 128.4C18.42 130.7 7.854 139.2 2.9 151.2C-2.051 163.1-.5996 176.6 6.775 187.2l47.73 68.78l-47.75 68.81c-7.359 10.62-8.795 24.12-3.844 36.06c4.969 11.94 15.52 20.44 28.22 22.72l82.39 14.88l14.89 82.41c2.297 12.72 10.78 23.25 22.7 28.22c11.95 4.906 25.44 3.531 36.09-3.844L256 457.5l68.83 47.78C331.3 509.7 338.8 512 346.3 512c4.906 0 9.859-.9687 14.56-2.906c11.92-4.969 20.4-15.5 22.7-28.19l14.89-82.44l82.37-14.88c12.73-2.281 23.3-10.78 28.25-22.75C514.1 348.9 512.6 335.4 505.2 324.8zM456.8 339.2l-99.61 18l-18 99.63L256 399.1L172.8 456.8l-18-99.63l-99.61-18L112.9 255.1L55.23 172.8l99.61-18l18-99.63L256 112.9l83.15-57.75l18.02 99.66l99.61 18L399.1 255.1L456.8 339.2zM256 143.1c-61.85 0-111.1 50.14-111.1 111.1c0 61.85 50.15 111.1 111.1 111.1s111.1-50.14 111.1-111.1C367.1 194.1 317.8 143.1 256 143.1zM256 319.1c-35.28 0-63.99-28.71-63.99-63.99S220.7 192 256 192s63.99 28.71 63.99 63.1S291.3 319.1 256 319.1z"/>\r\n                </svg>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>';let be;const Se=async()=>{if(!ce.staffWalkthroughImprovements.manageWalkthroughDefaultStatus)return;if(G.test.staff.walkthrough.manageWalkthroughUrlWithWalkthroughId(window.location.href))return;const e=await W("#ddlStatusFilter");null===e.querySelector("[selected]")&&e.value!==ce.staffWalkthroughImprovements.manageWalkthroughDefaultStatusValue&&(e.value=ce.staffWalkthroughImprovements.manageWalkthroughDefaultStatusValue,e.onchange(null))},We=async()=>{const e=await W("#btnWalkthrough_Options",be);let t=null;[...e.querySelectorAll("li a")].forEach((e=>{e.classList.add("button"),null===t&&(t=e.closest(".buttons")),t&&t.appendChild(e)})),t&&t.parentNode.insertBefore(t,t.previousElementSibling)},Ie=async()=>{const e=await W(`.${S.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`,be);if(e){e.appendChild(await W("#chWalkthroughGames",be));const t=await W("#chWalkthroughAchievements",be);t&&(Pe(t),e.appendChild(t)),e.appendChild(await W("#chWalkthroughGamers",be)),e.appendChild(await W("#chWalkthroughOtherSiteLink",be))}},Te=async()=>{if(!ce.staffWalkthroughImprovements.clickableTableLinks)return;const e=(new DOMParser).parseFromString('<template id="ta-x-template-manage-walkthrough-achievement-row">\r\n    <tr>\r\n        <td class="point"></td>\r\n        <td class="c1">{element.outerHTML}</td>\r\n        <td class="c2"></td>\r\n        <td class="dlop plain"></td>\r\n    </tr>\r\n</template>',"text/html"),t=document.querySelector(`.${S.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`),a=await W("#lstWalkthroughIDselectedrow a");if(!a)return;const r=O(((e,t)=>{const a=new RegExp(`${e}(.*?)${e}`,"g"),r=t.match(a);return r?r.map((t=>t.replace(e,""))):[t]})("'",a.href)[1]),n=await le(`https://www.trueachievements.com/staff/walkthrough/walkthroughpreview.aspx?walkthroughid=${r}`),o=(new DOMParser).parseFromString(n,"text/html");await I(2,[async()=>{if(await W("#chWalkthroughGamers",be)){const e=[...o.querySelectorAll(".walkthroughsummary .games a.gamelink")];[...t.querySelectorAll("#scrolllstWalkthroughGames .c1")].forEach((t=>{const a=t.innerText.trim(),r=e.find((e=>e.innerText.toLowerCase()===a.toLowerCase()));r&&(t.innerText="",t.innerHTML=r.outerHTML)}))}},async()=>{if(await W("#chWalkthroughGamers",be)){const e=[...o.querySelectorAll(".walkthroughsummary .editors dd a")];[...t.querySelectorAll("#scrolllstWalkthroughGamers .c1")].forEach((t=>{const a=t.innerText.trim(),r=e.find((e=>e.innerText.toLowerCase()===a.toLowerCase()));r&&(t.innerText="",t.innerHTML=r.outerHTML)}))}}]),await I(2,[async()=>{if(await W("#chWalkthroughGamers",be)&&await W("#chWalkthroughAchievements",be)){const a=[...t.querySelectorAll("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID .c1")],r=t.querySelector("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID tbody");if(!r)return;await I(3,[...t.querySelectorAll("#scrolllstWalkthroughGames .c1 a")].map((async t=>{const n=await le(t.href);[...(new DOMParser).parseFromString(n,"text/html").querySelectorAll("main ul.ach-panels li a.title")].forEach((t=>{const n=t.innerText.trim(),o=a.find((e=>e.innerText.toLowerCase()===n.toLowerCase()));if(o){o.innerText="",o.innerHTML=t.outerHTML;const e=o.querySelector("a");e.href=G.test.achievements.achievementUrlWithGamerId(e.href)?new URL(e.href).pathname:e.href}else{const a=e.querySelector(`#${S.Templates.StaffWalkthroughImprovements.ManageWalkthroughPage.achievementRow}`).content.firstElementChild.cloneNode(!0),n=me(a,{element:t}),o=n.querySelector("a");n.querySelector("a").href=G.test.achievements.achievementUrlWithGamerId(o.href)?new URL(o.href).pathname:o.href,r.appendChild(n)}}))})));const n=be.querySelector("#chWalkthroughAchievements #lstWalkthroughAchievementID .total");n.innerText=`${n.innerText}/${[...t.querySelectorAll("#chWalkthroughAchievements #scrolllstWalkthroughAchievementID .c1")].length}`}}])},Pe=e=>{const t=[...e.querySelectorAll("#scrolllstWalkthroughAchievementID .c1")],a=((e,t=!1)=>t?[...new Set(e.filter(((e,t,a)=>a.indexOf(e)!==t)))]:e.filter(((e,t,a)=>a.indexOf(e)!==t)))(t.map((e=>e.innerText)),!0);if(a.length>0){const r=t.length;let n=0;for(let e=0;e<a.length;e++){const r=t.filter((t=>t.innerText.toLowerCase()===a[e].toLowerCase())),o=r[0].nextElementSibling;for(let e=1;e<r.length;e++){const t=r[e].nextElementSibling.innerText.trim();o.innerText+=`, ${t}`,r[e].closest("tr").remove(),n++}}const o=e.querySelector("#lstWalkthroughAchievementID .total");o.innerText=o.innerText.replace(r.toString(),(r-n).toString())}},Le=async()=>{G.test.staff.walkthrough.manageWalkthroughUrl(window.location.href)&&await(async()=>{const e=(new DOMParser).parseFromString(xe,"text/html");be=await W("#divWalkthroughHolder"),await Se();const t=await W("#chEditWalkthrough",be);t&&(t.after(e.querySelector(`.${S.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`)),await I(2,[Ie,We,Te]))})()};let Me,Ae,Ee,$e;const He=async()=>{const e=await W("#chWalkthroughPagePreview");e&&Me.appendChild(e)},Je=async()=>{ce.staffWalkthroughImprovements.stickyPageHistory&&(Ee=ce.stickyHeader.enabled,$e=Ee?await W(`.${S.Styles.StickyHeader.featureJs}`):await W(".header"),Ae.classList.add(S.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryJs,S.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryStyle),_e(!0))},Ve=async()=>{if(!ce.staffWalkthroughImprovements.editPageLeft)return;Me.classList.add(S.Styles.StaffWalkthroughImprovements.WalkthroughPage.editPageLeftStyle);const e=await W('[id="btnEditPage"], [id="btnEditPage2"]',Me);if(e){e.classList.add(S.Styles.StaffWalkthroughImprovements.WalkthroughPage.editPageLeftJs);const t=await W(".content .buttons",Ae);t&&t.insertBefore(e,t.firstElementChild)}},Ce=async()=>{if(!ce.staffWalkthroughImprovements.walkthroughTeamButton)return;Me.classList.add(S.Styles.StaffWalkthroughImprovements.WalkthroughPage.walkthroughTeamButtonStyle);const e=(new DOMParser).parseFromString(xe,"text/html"),t=await W(".content .buttons",Ae);t&&t.appendChild(e.querySelector(`.${S.Styles.StaffWalkthroughImprovements.WalkthroughPage.walkthroughTeamButtonJs}`))},_e=e=>{let t,a=[S.Styles.Animations.yShow,S.Styles.Animations.yHide,S.Styles.Animations.yHideNoTransition],r=window.pageYOffset-Me.offsetTop+5;const n=()=>{document.documentElement.style.setProperty(S.Styles.Variables.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryTop,`${r}px`),Ae.classList.remove(...a),t&&Ae.classList.add(t)};if(window.pageYOffset<=Me.offsetTop+(Ee?$e.offsetHeight:0)||(Ee?$e.classList.contains(S.Styles.Animations.yShow)?(window.pageYOffset<=window.pageYOffset+$e.offsetTop&&(r+=$e.offsetTop),t=S.Styles.Animations.yShow,a=[S.Styles.Animations.yHide,S.Styles.Animations.yHideNoTransition]):(t=e?S.Styles.Animations.yHideNoTransition:S.Styles.Animations.yHide,a=[S.Styles.Animations.yShow]):r-=$e.offsetHeight,!(r>=(Ee?$e.offsetHeight:0)))){if(Ee&&r>=0&&$e.classList.contains(S.Styles.Animations.yShow))return t=S.Styles.Animations.yShow,void n();r=0,n()}else n()},De=()=>{ce.staffWalkthroughImprovements.stickyPageHistory&&window.addEventListener("scroll",(()=>_e(!((e,t)=>{const a=Array.isArray(t)?t:[t];for(let t=0;t<a.length;t++)if(e.classList.contains(a[t]))return!0;return!1})(Ae,[S.Styles.Animations.yHideNoTransition,S.Styles.Animations.yHide,S.Styles.Animations.yShow]))))},Ge=async()=>{G.test.staff.walkthrough.walkthroughPageUrl(window.location.href)&&(await(async()=>{const e=(new DOMParser).parseFromString(xe,"text/html");Ae=await W("#chWalkthroughPageVersions"),Ae.parentElement.insertBefore(e.querySelector(`.${S.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),Ae),Me=document.querySelector(`.${S.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),Me.appendChild(Ae),I(3,[He,Je,Ve,Ce])})(),De())};var je=a("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/scss/staff-walkthrough-improvements/tinymce/charcoal/skin.scss"),Oe={};Oe.styleTagTransform=ee(),Oe.setAttributes=Z(),Oe.insert=z().bind(null,"head"),Oe.domAPI=N(),Oe.insertStyleElement=Q();U()(je.Z,Oe);const qe=je.Z&&je.Z.locals?je.Z.locals:void 0,Re=async()=>{await W('[href*="skin.min.css"]',document.head)&&(GM_addStyle(qe),await(async()=>{const e=await W("#txtWalkthrough_ifr"),t=await W("[data-theme]"),a=await W(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`);let r;r=null===ce.staffWalkthroughImprovements.tinymceTheme?t.getAttribute("data-theme"):ce.staffWalkthroughImprovements.tinymceTheme,e.addEventListener("load",(async()=>{const t=e&&e.contentDocument,a=await W("#tinymce",t);a.classList.add(S.Styles.root,S.Styles.StaffWalkthroughImprovements.featureStyle),a.setAttribute("data-ta-x-tinymce-theme",r);const n=t.createElement("style");n.id="ta-x-staff-walkthrough-improvements-dark-tinymce-style",n.innerHTML="body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-tinymce-theme=dark]{background-color:#444;color:#bbb;border-color:#555}",t.head.appendChild(n);const o=t.createElement("script");o.id="ta-x-staff-walkthrough-improvements-dark-tinymce-script",o.innerHTML="window.addEventListener('message', function(event) {\n      console.log(event);\n      if (!event || !event.data || event.data.theme === null || event.data.theme === undefined) return;\n      document.body.setAttribute('data-ta-x-tinymce-theme', event.data.theme);\n    });",t.head.appendChild(o),e.removeEventListener("load",void 0)}));let n=!1;const o=new MutationObserver((t=>{n?n=!1:t.forEach((t=>{if("attributes"===t.type){let r;if("data-theme"===t.attributeName)r=t.target.getAttribute("data-theme"),n=!0,a.setAttribute("data-ta-x-tinymce-theme","dark"===r?r:"");else{if("data-ta-x-tinymce-theme"!==t.attributeName)return;r=t.target.getAttribute("data-ta-x-tinymce-theme")}null!=r&&e.contentWindow.postMessage({theme:r},"*")}}))}));o.observe(t,{attributes:!0}),o.observe(a,{attributes:!0})})())},Ue=async()=>{if(!ce.staffWalkthroughImprovements.improvedImageSelector)return;const e=(new DOMParser).parseFromString(xe,"text/html"),t=e.querySelector(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorContainerJs}`),a=await W("#oWalkthroughImageViewer");a.classList.add(S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorStyle,S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs);const r=a.querySelector(".imageviewer");a.insertBefore(t,r),t.appendChild(r.querySelector(".itemname, .noimages")),t.appendChild(r.querySelector(".addimages a")),[...r.querySelectorAll(".ivimage a")].forEach((t=>{const a=e.querySelector(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorImageTitleJs}`).cloneNode(!0),r=me(a,{image:t.querySelector("img")});r.innerText=D("'",r.innerText),t.appendChild(r)}))},Be=async()=>{const e=(new DOMParser).parseFromString(xe,"text/html").querySelector(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`),t=await W(".mce-tinymce .mce-toolbar.mce-last .mce-container-body");t&&(null!==ce.staffWalkthroughImprovements.tinymceTheme&&e.setAttribute("data-ta-x-tinymce-theme",ce.staffWalkthroughImprovements.tinymceTheme),t.appendChild(e))},Ne=async()=>{G.test.staff.walkthrough.editWalkthroughUrl(window.location.href)&&(await(async()=>{await I(2,[Re,Ue,Be])})(),document.addEventListener("click",(({target:e})=>{if(ce.staffWalkthroughImprovements.improvedImageSelector&&null===e?.closest('[aria-label="Add Image"]')&&null===e?.closest(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`)){const e=document.querySelector(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);"block"===e.style.display&&(e.style.display="none")}if(e?.classList?.contains(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`)||null!==e?.closest(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`)){const t=e.classList.contains(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`)?e:e.closest(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.themeToggleJs}`);let a;a="dark"===t.getAttribute("data-ta-x-tinymce-theme")?"":"dark",ce.staffWalkthroughImprovements.tinymceTheme=a,t.setAttribute("data-ta-x-tinymce-theme",a)}})),ce.staffWalkthroughImprovements.improvedImageSelector&&window.addEventListener("blur",(()=>{if(document.activeElement===document.querySelector("#txtWalkthrough_ifr")){const e=document.querySelector(`.${S.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);if("block"!==e.style.display)return;e.style.display="none"}})))},Fe=async()=>{G.test.staff.walkthrough.preview(window.location.href)&&await(async()=>{const e=await W(".page main");e.parentElement.classList.add("no-aside"),e.classList.add("no-aside"),(await W(".page aside")).remove()})()},ze=async()=>{ce.staffWalkthroughImprovements.enabled&&G.test.staff.walkthrough.all(window.location.href)&&await W("body")&&(document.body.classList.add(S.Styles.StaffWalkthroughImprovements.featureJs,S.Styles.StaffWalkthroughImprovements.featureStyle),await I(4,[Le,Ge,Ne,Fe]))};(async()=>{await I(4,[ne,pe,we,ze]),r.clearExpired()})()})()})();