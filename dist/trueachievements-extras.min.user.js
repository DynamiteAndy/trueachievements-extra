// ==UserScript==
// @name          TrueAchievements Extra
// @namespace     dynamite-andy
// @version       1.2.0
// @iconURL       https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon32x32.ico?raw=true
// @icon64URL     https://github.com/andrewcartwright1/trueachievements-extra/blob/main/src/resources/icons/favicon64x64.ico?raw=true
// @updateURL     https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @downloadURL   https://github.com/andrewcartwright1/trueachievements-extra/raw/main/dist/trueachievements-extras.min.user.js
// @supportURL    https://github.com/andrewcartwright1/trueachievements-extra/issues
// @description   Provides a variety of extras for use on TrueAchievements
// @author        Dynamite Andy - dynamiteandy@gmail.com
// @match         http*://*.trueachievements.com/*
// @run-at        document-start
// @grant         GM_getValue
// @grant         GM_setValue
// @grant         GM_deleteValue
// @grant         GM_addStyle
// ==/UserScript==

// Last Updated: 27/12/2022, 20:14:30

!function e(t,a,n){function r(s,i){if(!a[s]){if(!t[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var m=a[s]={exports:{}};t[s][0].call(m.exports,(function(e){return r(t[s][1][e]||e)}),m,m.exports,e,t,a,n)}return a[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={stickyHeader:{get enabled(){return GM_getValue("trueachievements-extra-stickyHeader-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-stickyHeader-enabled",e)}},recentWinners:{get enabled(){return GM_getValue("trueachievements-extra-recentWinners-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-recentWinners-enabled",e)},get onlineUnlocksOnly(){return this.enabled&&GM_getValue("trueachievements-extra-recentWinners-onlineUnlocksOnly",!1)},set onlineUnlocksOnly(e){GM_setValue("trueachievements-extra-recentWinners-onlineUnlocksOnly",e)},get baseGameOnly(){return this.enabled&&GM_getValue("trueachievements-extra-recentWinners-baseGameOnly",!1)},set baseGameOnly(e){GM_setValue("trueachievements-extra-recentWinners-baseGameOnly",e)}},staffWalkthroughImprovements:{get enabled(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-enabled",!1)},set enabled(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-enabled",e)},get stickyPageHistory(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-stickyPageHistory",!1)},set stickyPageHistory(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-stickyPageHistory",e)},get editPageLeft(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-editPageLeft",!1)},set editPageLeft(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-editPageLeft",e)},get walkthroughTeamButton(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-walkthroughTeamButton",!1)},set walkthroughTeamButton(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-walkthroughTeamButton",e)},get manageWalkthroughDefaultStatus(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatus",!1)},set manageWalkthroughDefaultStatus(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatus",e)},get improvedImageSelector(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-improvedImageSelector",!1)},set improvedImageSelector(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-improvedImageSelector",e)},get manageWalkthroughDefaultStatusValue(){return GM_getValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatusValue","-1")},set manageWalkthroughDefaultStatusValue(e){GM_setValue("trueachievements-extra-staffWalkthroughImprovements-manageWalkthroughDefaultStatusValue",e)}}}},{}],2:[function(e,t,a){"use strict";var n,r,o,s,i,l,h,m,u,c,g,d,f;Object.defineProperty(a,"__esModule",{value:!0}),a.Constants=void 0;const p="ta-x",v="js-ta-x",k="--ta-x";class x{}a.Constants=x,x.Styles=((n=class{}).root="trueachievement-extras",n.Animations=((r=class{}).yShow=`${p}-y-show`,r.yHide=`${p}-y-hide`,r.yHideNoTransition=`${r.yHide}-no-transition`,r),n.Base=((o=class{}).hide=`${p}-hide`,o),n.SettingsMenu=((s=class{}).featureJs=`${v}-settings-menu`,s.featureStyle=`${p}-settings-menu`,s.subSetting=`${s.featureStyle}-sub-setting`,s.wrenchJs=`${s.featureJs}-wrench`,s.closeJs=`${s.featureJs}-close`,s),n.StickyHeader=((i=class{}).featureJs=`${v}-sticky-header`,i.featureStyle=`${p}-sticky-header`,i),n.StaffWalkthroughImprovements=((l=class{}).featureJs=`${v}-staff-walkthrough-improvements`,l.featureStyle=`${p}-staff-walkthrough-improvements`,l.WalkthroughPage=((h=class{}).featureJs=`${v}-staff-walkthrough-improvements-walkthrough-page`,h.featureStyle=`${p}-staff-walkthrough-improvements-walkthrough-page`,h.containerJs=`${h.featureJs}-container`,h.containerStyle=`${h.featureStyle}-container`,h.stickyPageHistoryJs=`${h.featureJs}-sticky-page-history`,h.stickyPageHistoryStyle=`${h.featureStyle}-sticky-page-history`,h.editPageLeftJs=`${h.featureJs}-edit-page-left`,h.editPageLeftStyle=`${h.featureStyle}-edit-page-left`,h.walkthroughTeamButtonJs=`${h.featureJs}-walkthrough-team-button`,h.walkthroughTeamButtonStyle=`${h.featureStyle}-walkthrough-team-button`,h),l.ManageWalkthroughPage=((m=class{}).featureJs=`${v}-staff-walkthrough-improvements-manage-walkthrough-page`,m.featureStyle=`${p}-staff-walkthrough-improvements-manage-walkthrough-page`,m.containerJs=`${m.featureJs}-container`,m.containerStyle=`${m.featureStyle}-container`,m),l.EditWalkthroughPage=((u=class{}).featureJs=`${v}-staff-walkthrough-improvements-edit-walkthrough-page`,u.featureStyle=`${p}-staff-walkthrough-improvements-edit-walkthrough-page`,u.containerJs=`${u.featureJs}-container`,u.containerStyle=`${u.featureStyle}-container`,u.improvedImageSelectorJs=`${u.featureJs}-improved-image-selector`,u.improvedImageSelectorStyle=`${u.featureStyle}-improved-image-selector`,u.improvedImageSelectorContainerJs=`${u.improvedImageSelectorJs}-container`,u.improvedImageSelectorContainerStyle=`${u.improvedImageSelectorStyle}-container`,u.improvedImageSelectorImageTitleJs=`${u.improvedImageSelectorJs}-image-title`,u.improvedImageSelectorImageTitleStyle=`${u.improvedImageSelectorStyle}-image-title`,u),l),n.Variables=((c=class{}).StickyHeader=((g=class{}).featureVariableStylePreix=`${k}-sticky-header`,g.height=`${g.featureVariableStylePreix}-height`,g),c.StaffWalkthroughImprovements=((d=class{}).featureVariableStylePreix=`${k}-staff-walkthrough-improvements`,d.WalkthroughPage=((f=class{}).featureVariableStylePreix=`${k}-staff-walkthrough-improvements-walkthrough-page`,f.stickyPageHistoryTop=`${f.featureVariableStylePreix}-sticky-page-history-top`,f),d),c),n)},{}],3:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0});const r=e("./scripts/components/promise");n(void 0,void 0,void 0,(function*(){const t=e("./styles/index"),a=e("./scripts/settings-menu"),n=e("./scripts/sticky-header"),o=e("./scripts/staff-walkthrough-improvements");yield t.apply(),(0,r.allConcurrently)(3,[a.render,n.render,o.render])}))},{"./scripts/components/promise":5,"./scripts/settings-menu":12,"./scripts/staff-walkthrough-improvements":13,"./scripts/sticky-header":14,"./styles/index":15}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.extractBetween=a.yesterday=a.today=a.staffWalkthroughPagePreviewPage=a.staffWalkthroughPreviewPage=a.staffWalkthroughPage=a.staffManageWalkthroughPage=a.staffEditWalkthroughPage=a.achievementsPage=a.achievementPage=void 0;const n=(e,t=[])=>{t=Array.isArray(t)?t:[t];try{const a=new URL(e);let n="";for(let e=0;e<t.length;e++)a[t[e]]&&(n+=a[t[e]]);return n}catch(t){throw`${e} is not a valid url`}};a.achievementPage=e=>new RegExp("^/a[0-9]*/","i").test(n(e,"pathname"));a.achievementsPage=e=>new RegExp("^/game/.*/achievements$","i").test(n(e,"pathname"));a.staffEditWalkthroughPage=e=>new RegExp("^/staff/walkthrough/editwalkthroughpage.aspx","i").test(n(e,"pathname"));a.staffManageWalkthroughPage=e=>new RegExp("^/staff/walkthrough/managewalkthrough.aspx","i").test(n(e,"pathname"));a.staffWalkthroughPage=e=>new RegExp("^/staff/walkthrough/walkthroughpage.aspx","i").test(n(e,"pathname"));a.staffWalkthroughPreviewPage=e=>new RegExp("^/staff/walkthrough/walkthroughpreview.aspx","i").test(n(e,"pathname"));a.staffWalkthroughPagePreviewPage=e=>new RegExp("^/staff/walkthrough/walkthroughpagepreview.aspx","i").test(n(e,"pathname"));a.today=e=>new RegExp("Today","i").test(e);a.yesterday=e=>new RegExp("Yesterday","i").test(e);a.extractBetween=(e,t)=>{const a=new RegExp(`${e}(.*?)${e}`),n=t.match(a);return n?n[1]:t},a.default={achievementsPage:a.achievementsPage,achievementPage:a.achievementPage,staffEditWalkthroughPage:a.staffEditWalkthroughPage,staffManageWalkthroughPage:a.staffManageWalkthroughPage,staffWalkthroughPage:a.staffWalkthroughPage,staffWalkthroughPreviewPage:a.staffWalkthroughPreviewPage,today:a.today,yesterday:a.yesterday,extractBetween:a.extractBetween}},{}],5:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.allConcurrently=a.allSequentially=void 0;a.allSequentially=e=>{let t=Promise.resolve();return Promise.all(e.reduce(((e,a)=>(t=t.then((()=>"function"==typeof a?a():a)),e.push(t),e)),[]))};a.allConcurrently=(e,t)=>{if(0===t.length)return Promise.resolve([]);const a=t.splice(e),n=t,r=[];let o=0;return new Promise((e=>{n.forEach((e=>{const a="function"==typeof e?e():e;r.push(a),a.then((e=>(t(),e)))}));const t=()=>{o===a.length?e(Promise.all(r)):(r.push(a[o]().then((e=>(t(),e)))),o++)}}))}},{}],6:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.isValid=void 0;a.isValid=e=>{const t="string"==typeof e?new Date(e):e;return"invalid date"!==new Date(t).toString().toLowerCase()}},{}],7:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.classListContains=void 0;a.classListContains=(e,t)=>{const a=Array.isArray(t)?t:[t];for(let t=0;t<a.length;t++)if(e.classList.contains(a[t]))return!0;return!1}},{}],8:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.toBool=a.toDate=a.toInt=void 0;const n=e("../../regex"),r=e("./date-util"),o=new Date((new Date).setHours(0,0,0,0)),s=new Date(new Date(o).setDate(o.getDate()-1));a.toInt=e=>{if("string"==typeof e){const t=parseInt(e.replace(/,/g,""),10);return isNaN(t)?null:t}return"boolean"==typeof e?e?1:0:"number"==typeof e?e:null};a.toDate=e=>n.default.today(e)?o:n.default.yesterday(e)?s:(0,r.isValid)(e)?new Date(e):null;a.toBool=e=>"string"==typeof e?"true"===e.toLowerCase()||"false"!==e.toLowerCase()&&null:"number"==typeof e?1===e||0!==e&&null:"boolean"==typeof e?e:null,a.default={toInt:a.toInt,toDate:a.toDate,toBool:a.toBool}},{"../../regex":4,"./date-util":6}],9:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.template=void 0;const n=document.createElement("div");a.template=(e,t={})=>{const{image:a}=t;n.appendChild(e),n.firstChild.outerHTML=e.outerHTML.replace(/{GM_info.script.version}/g,GM_info.script.version||"").replace(/{image.title}/g,(null==a?void 0:a.title)||"");const r=n.firstChild;return n.innerHTML="",r}},{}],10:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.until=a.waitForElement=void 0;a.waitForElement=(e,t=document.documentElement,a=1e4)=>new Promise((n=>{if(t.querySelector(e))return n(t.querySelector(e));let r;const o=setTimeout((()=>{r.disconnect(),n(null)}),a);r=new MutationObserver((()=>{t.querySelector(e)&&(r.disconnect(),clearTimeout(o),n(t.querySelector(e)))})),r.observe(t||document.documentElement,{childList:!0,subtree:!0})}));a.until=e=>{const t=a=>e()?a():setTimeout((()=>t(a)),250);return new Promise(t)}},{}],11:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const n=e("../helpers/parse");a.default=class{constructor(...e){1!==e.length||this.fromString(e[0])}fromString(e){try{const t=JSON.parse(e);this.selector=t.selector,this.value=(0,n.toBool)(t.value)}catch(e){}}isValid(){return null!=this.selector&&null!=this.value}toString(){return JSON.stringify(this)}}},{"../helpers/parse":8}],12:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0}),a.render=void 0;const r=e("../config"),o=e("../constants"),s=e("./helpers/template"),i=e("./helpers/wait"),l=e("./models/conditional-render");let h,m;const u=e=>"SELECT"===e.nodeName,c=e=>"INPUT"===e.nodeName&&"checkbox"===e.type;a.render=()=>n(void 0,void 0,void 0,(function*(){yield n(void 0,void 0,void 0,(function*(){const e=(new DOMParser).parseFromString('<div class="js-ta-x-settings-menu-wrench gamer-page" aria-haspopup="true">\r\n    <i class="fa fa-wrench"></i>\r\n</div>\r\n\r\n<div class="js-ta-x-settings-menu ta-x-settings-menu ta-x-hide">\r\n    <div class="middle">\r\n        <div class="wrap">\r\n            <div class="labels">\r\n                <label class="js-ta-x-settings-menu-close close">\r\n                    <i class="fa fa-close"></i>\r\n                </label>\r\n            </div>\r\n            <div class="contents">\r\n                <div class="t-settings optionpanel t-5 open" >\r\n                    <div>\r\n                        <label>Sticky Header</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStickyHeader" name="chkStickyHeader" data-config-area="stickyHeader"\r\n                                data-config-setting="enabled" checked="">\r\n                            <label for="chkStickyHeader"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label>Staff Walkthrough Improvements</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovements" name="chkStaffWalkthroughImprovements" data-config-area="staffWalkthroughImprovements"\r\n                                data-config-setting="enabled" checked="">\r\n                            <label for="chkStaffWalkthroughImprovements"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Stick Page History To Left</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsStickyPageHistory" name="chkStaffWalkthroughImprovementsStickyPageHistory"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="stickyPageHistory" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsStickyPageHistory"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Move Edit Page Button To The Left</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsEditPageLeft" name="chkStaffWalkthroughImprovementsEditPageLeft"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="editPageLeft" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsEditPageLeft"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Add Walkthrough Team Button</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsWalkthroughTeamButton" name="chkStaffWalkthroughImprovementsWalkthroughTeamButton"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="walkthroughTeamButton" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsWalkthroughTeamButton"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Improved Image Selector</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsImproveImageSelector" name="chkStaffWalkthroughImprovementsImproveImageSelector"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="improvedImageSelector" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsImproveImageSelector"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovements", "value": "true" }\' class="ta-x-hide ta-x-settings-menu-sub-setting-wrapable">\r\n                        <label class="ta-x-settings-menu-sub-setting">Default Status for Manage Walkthrough</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus" name="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus"\r\n                                data-config-area="staffWalkthroughImprovements" data-config-setting="manageWalkthroughDefaultStatus" checked="">\r\n                            <label for="chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus"> </label>\r\n                        </div>\r\n                        <div data-render-condition=\'{ "selector": "#chkStaffWalkthroughImprovementsManageWalkthroughDefaultStatus", "value": "true" }\' class="frm-grp frm-sel ta-x-hide">\r\n                            <select id="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue" name="selStaffWalkthroughImprovementsManageWalkthroughDefaultStatusValue"  data-config-area="staffWalkthroughImprovements" data-config-setting="manageWalkthroughDefaultStatusValue" class="dropdown">\r\n                                <option value="-1" selected="">(All)</option>\r\n                                <option value="New">New</option>\r\n                                <option value="In progress">In progress</option>\r\n                                <option value="Ready for review">Ready for review</option>\r\n                                <option value="Ready for publish">Ready for publish</option>\r\n                                <option value="Published">Published</option>\r\n                                <option value="New owner required">New owner required</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    \x3c!-- <div>\r\n                        <label>Show recent winners</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinners" name="chkRecentWinners"\r\n                                data-config-area="recentWinners" data-config-setting="enabled" checked="">\r\n                            <label for="chkRecentWinners"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkRecentWinners", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Online unlocks only</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinnersOnlineUnlocksOnly" name="chkRecentWinnersOnlineUnlocksOnly"\r\n                                data-config-area="recentWinners" data-config-setting="onlineUnlocksOnly" checked="">\r\n                            <label for="chkRecentWinnersOnlineUnlocksOnly"> </label>\r\n                        </div>\r\n                    </div>\r\n                    <div data-render-condition=\'{ "selector": "#chkRecentWinners", "value": "true" }\' class="ta-x-hide">\r\n                        <label class="ta-x-settings-menu-sub-setting">Base game only</label>\r\n                        <div class="frm-grp frm-tgl">\r\n                            <input type="checkbox" id="chkRecentWinnersBaseGameOnly" name="chkRecentWinnersBaseGameOnly"\r\n                                data-config-area="recentWinners" data-config-setting="baseGameOnly" checked="">\r\n                            <label for="chkRecentWinnersBaseGameOnly"> </label>\r\n                        </div>\r\n                    </div> --\x3e\r\n\r\n                    <ul class="list-links buttons">\r\n                        <li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Raise a Bug</a></li>\r\n                        <li><a href="https://github.com/andrewcartwright1/trueachievements-extra/issues/new">Request a Feature</a></li>\r\n                    </ul>\r\n                    <div class="title">\r\n                        <span>TrueAchievements Extra</span>\r\n                        </br>\r\n                        <span>Version {GM_info.script.version}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="js-ta-x-settings-menu-close close"></div>\r\n</div>',"text/html"),t=yield(0,i.waitForElement)("header nav"),a=yield(0,i.waitForElement)('[data-tgl="nav-gamer"]',t);t.insertBefore(e.querySelector(`.${o.Constants.Styles.SettingsMenu.wrenchJs}`),a.nextSibling),m=document.querySelector(`.${o.Constants.Styles.SettingsMenu.wrenchJs}`);const n=yield(0,i.waitForElement)(".nav-gamer"),g=(0,s.template)(e.querySelector(`.${o.Constants.Styles.SettingsMenu.featureJs}`));n.parentNode.insertBefore(g,n.nextSibling),h=document.querySelector(`.${o.Constants.Styles.SettingsMenu.featureJs}`),[...h.querySelectorAll("input, select")].forEach((e=>{const t=e.dataset.configArea,a=e.dataset.configSetting;t&&a&&(c(e)?e.checked=r.default[t][a]:u(e)&&(e.value=r.default[t][a]))})),[...h.querySelectorAll("[data-render-condition]")].forEach((e=>{const t=new l.default(e.dataset.renderCondition);if(!t.isValid())return;const a=document.querySelector(t.selector);"checkbox"===a.type&&e.classList[a.checked===t.value?"remove":"add"](o.Constants.Styles.Base.hide)}))})),m.addEventListener("click",(()=>{m.classList.add("active"),h.classList.add("nav-gamer"),h.classList.remove(o.Constants.Styles.Base.hide),h.classList.add("open")})),h.addEventListener("click",(({target:e})=>{(null==e?void 0:e.classList.contains(o.Constants.Styles.SettingsMenu.closeJs))&&(h.classList.remove("open"),h.classList.add(o.Constants.Styles.Base.hide),h.classList.remove("nav-gamer"),m.classList.remove("active"))})),h.addEventListener("change",(({target:e})=>{const t=e,a=e,n=null==t?void 0:t.dataset.configArea,s=null==t?void 0:t.dataset.configSetting;u(t)?r.default[n][s]=t.value:c(t)&&(r.default[n][s]=null==a?void 0:a.checked),[...h.querySelectorAll(`[data-render-condition*="#${t.id}"]`)].forEach((e=>{const t=new l.default(e.dataset.renderCondition);t.isValid()&&"checkbox"===a.type&&e.classList[a.checked===t.value?"remove":"add"](o.Constants.Styles.Base.hide)}))}))}))},{"../config":1,"../constants":2,"./helpers/template":9,"./helpers/wait":10,"./models/conditional-render":11}],13:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0}),a.render=void 0;const r=e("../config"),o=e("../constants"),s=e("../regex"),i=e("./helpers/html-element-util"),l=e("./helpers/wait"),h=e("../styles/staff-walkthrough-improvements"),m=e("./helpers/template");let u,c,g,d;const f=e=>{let t,a=[o.Constants.Styles.Animations.yShow,o.Constants.Styles.Animations.yHide,o.Constants.Styles.Animations.yHideNoTransition],n=window.pageYOffset-u.offsetTop+5;const r=()=>{document.documentElement.style.setProperty(o.Constants.Styles.Variables.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryTop,`${n}px`),c.classList.remove(...a),t&&c.classList.add(t)};if(window.pageYOffset<=u.offsetTop+(g?d.offsetHeight:0)||(g?d.classList.contains(o.Constants.Styles.Animations.yShow)?(window.pageYOffset<=window.pageYOffset+d.offsetTop&&(n+=d.offsetTop),t=o.Constants.Styles.Animations.yShow,a=[o.Constants.Styles.Animations.yHide,o.Constants.Styles.Animations.yHideNoTransition]):(t=e?o.Constants.Styles.Animations.yHideNoTransition:o.Constants.Styles.Animations.yHide,a=[o.Constants.Styles.Animations.yShow]):n-=d.offsetHeight,!(n>=(g?d.offsetHeight:0)))){if(g&&n>=0&&d.classList.contains(o.Constants.Styles.Animations.yShow))return t=o.Constants.Styles.Animations.yShow,void r();n=0,r()}else r()},p=()=>n(void 0,void 0,void 0,(function*(){r.default.staffWalkthroughImprovements.stickyPageHistory&&(g=r.default.stickyHeader.enabled,d=g?yield(0,l.waitForElement)(`.${o.Constants.Styles.StickyHeader.featureJs}`):yield(0,l.waitForElement)(".header"),c.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryJs,o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.stickyPageHistoryStyle),f(!0))})),v=()=>n(void 0,void 0,void 0,(function*(){var e;if(r.default.staffWalkthroughImprovements.editPageLeft){u.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.editPageLeftStyle);const t=yield(0,l.waitForElement)('[id="btnEditPage"], [id="btnEditPage2"]',u);t.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.editPageLeftJs),null===(e=c.querySelector(".content .buttons"))||void 0===e||e.appendChild(t)}})),k=()=>{if(r.default.staffWalkthroughImprovements.walkthroughTeamButton){u.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.walkthroughTeamButtonStyle);const e='<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header">\r\n\r\n</div>\r\n\r\n<a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>\r\n\r\n<p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{image.title}</p>',t=(new DOMParser).parseFromString(e,"text/html");c.querySelector(".content .buttons").appendChild(t.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.walkthroughTeamButtonJs}`))}},x=()=>n(void 0,void 0,void 0,(function*(){if(!r.default.staffWalkthroughImprovements.manageWalkthroughDefaultStatus)return;const e=yield(0,l.waitForElement)("#ddlStatusFilter");null===e.querySelector("[selected]")&&e.value!==r.default.staffWalkthroughImprovements.manageWalkthroughDefaultStatusValue&&(e.value=r.default.staffWalkthroughImprovements.manageWalkthroughDefaultStatusValue,e.onchange(null))})),y=()=>n(void 0,void 0,void 0,(function*(){if(!r.default.staffWalkthroughImprovements.improvedImageSelector)return;const e=(new DOMParser).parseFromString('<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header">\r\n\r\n</div>\r\n\r\n<a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>\r\n\r\n<p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{image.title}</p>',"text/html"),t=e.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorContainerJs}`),a=yield(0,l.waitForElement)("#oWalkthroughImageViewer");a.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorStyle,o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs);const n=a.querySelector(".imageviewer");a.insertBefore(t,n),t.appendChild(n.querySelector(".itemname")),t.appendChild(n.querySelector(".addimages a")),[...n.querySelectorAll(".ivimage a")].forEach((t=>{const a=e.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorImageTitleJs}`).cloneNode(!0),n=(0,m.template)(a,{image:t.querySelector("img")});n.innerText=(0,s.extractBetween)("'",n.innerText),t.appendChild(n)}))}));a.render=()=>n(void 0,void 0,void 0,(function*(){r.default.staffWalkthroughImprovements.enabled&&((0,s.staffManageWalkthroughPage)(window.location.href)||(0,s.staffWalkthroughPage)(window.location.href)||(0,s.staffEditWalkthroughPage)(window.location.href)||(0,s.staffWalkthroughPreviewPage)(window.location.href)||(0,s.staffWalkthroughPagePreviewPage)(window.location.href))&&(yield n(void 0,void 0,void 0,(function*(){if(document.body.classList.add(o.Constants.Styles.StaffWalkthroughImprovements.featureJs,o.Constants.Styles.StaffWalkthroughImprovements.featureStyle),(0,s.staffWalkthroughPage)(window.location.href)){const e='<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header">\r\n\r\n</div>\r\n\r\n<a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>\r\n\r\n<p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{image.title}</p>',t=(new DOMParser).parseFromString(e,"text/html");c=yield(0,l.waitForElement)("#chWalkthroughPageVersions");const a=yield(0,l.waitForElement)("#chWalkthroughPagePreview");c.parentElement.insertBefore(t.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),c),u=document.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.WalkthroughPage.containerJs}`),u.appendChild(c),a&&(u.appendChild(a),yield p(),yield v(),k())}else if((0,s.staffManageWalkthroughPage)(window.location.href)){const e='<div class="js-ta-x-staff-walkthrough-improvements-walkthrough-page-container ta-x-staff-walkthrough-improvements-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container">\r\n\r\n</div>\r\n\r\n<div class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-container ta-x-sticky-header">\r\n\r\n</div>\r\n\r\n<a class="button js-ta-x-staff-walkthrough-improvements-walkthrough-page-walkthrough-team-button" href="/staff/walkthrough/managewalkthrough.aspx">Walkthrough Team</a>\r\n\r\n<p class="js-ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title">{image.title}</p>',t=(new DOMParser).parseFromString(e,"text/html"),a=yield(0,l.waitForElement)("#divWalkthroughHolder");if(yield x(),null===(yield(0,l.waitForElement)("#chWalkthroughGames")))return;if(null!==(yield(0,l.waitForElement)("#chWalkthroughGames"))){(yield(0,l.waitForElement)("#chEditWalkthrough",a)).after(t.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`));const e=a.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.ManageWalkthroughPage.containerJs}`);e.appendChild(yield(0,l.waitForElement)("#chWalkthroughGames",a)),e.appendChild(yield(0,l.waitForElement)("#chWalkthroughAchievements",a)),e.appendChild(yield(0,l.waitForElement)("#chWalkthroughGamers",a)),e.appendChild(yield(0,l.waitForElement)("#chWalkthroughOtherSiteLink",a));let n=null;[...document.querySelectorAll("#btnWalkthrough_Options li a")].forEach((e=>{e.classList.add("button"),null===n&&(n=e.closest(".buttons")),n.appendChild(e)})),n.parentNode.insertBefore(n,n.previousElementSibling)}}else if((0,s.staffWalkthroughPreviewPage)(window.location.href)||(0,s.staffWalkthroughPagePreviewPage)(window.location.href)){const e=yield(0,l.waitForElement)(".page main");e.parentElement.classList.add("no-aside"),e.classList.add("no-aside"),(yield(0,l.waitForElement)(".page aside")).remove()}else(0,s.staffEditWalkthroughPage)(window.location.href)&&(yield(0,h.apply)(),yield y())})),r.default.staffWalkthroughImprovements.enabled&&(0,s.staffWalkthroughPage)(window.location.href)&&window.addEventListener("scroll",(()=>f(!(0,i.classListContains)(c,[o.Constants.Styles.Animations.yHideNoTransition,o.Constants.Styles.Animations.yHide,o.Constants.Styles.Animations.yShow])))),r.default.staffWalkthroughImprovements.enabled&&r.default.staffWalkthroughImprovements.improvedImageSelector&&(0,s.staffEditWalkthroughPage)(window.location.href)&&(document.addEventListener("click",(({target:e})=>{if(null!==(null==e?void 0:e.closest('[aria-label="Add Image"]')))return;if(null!==(null==e?void 0:e.closest(`.${o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`)))return;const t=document.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);"block"===t.style.display&&(t.style.display="none")})),window.addEventListener("blur",(()=>{if(document.activeElement===document.querySelector("#txtWalkthrough_ifr")){const e=document.querySelector(`.${o.Constants.Styles.StaffWalkthroughImprovements.EditWalkthroughPage.improvedImageSelectorJs}`);if("block"!==e.style.display)return;e.style.display="none"}}))))}))},{"../config":1,"../constants":2,"../regex":4,"../styles/staff-walkthrough-improvements":16,"./helpers/html-element-util":7,"./helpers/template":9,"./helpers/wait":10}],14:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0}),a.render=void 0;const r=e("../config"),o=e("../constants"),s=e("./helpers/parse"),i=e("./helpers/wait");let l,h,m;const u=()=>window.pageYOffset<=l.offsetTop;a.render=()=>n(void 0,void 0,void 0,(function*(){r.default.stickyHeader.enabled&&(yield n(void 0,void 0,void 0,(function*(){l=yield(0,i.waitForElement)("header"),h=yield(0,i.waitForElement)("#divtxtSearchContainer",l);const e=l.parentNode,t=document.createElement("div");t.style.height=`${l.offsetHeight}px`,e.insertBefore(t,l),l.classList.add(o.Constants.Styles.StickyHeader.featureJs,o.Constants.Styles.StickyHeader.featureStyle),document.documentElement.style.setProperty(o.Constants.Styles.Variables.StickyHeader.height,`${l.offsetHeight}px`),u()||l.classList.add(o.Constants.Styles.Animations.yHideNoTransition)})),yield n(void 0,void 0,void 0,(function*(){window.addEventListener("scroll",(()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;u()?l.classList.remove(o.Constants.Styles.Animations.yHide,o.Constants.Styles.Animations.yHideNoTransition):"inline"===h.style.display||(0,s.toBool)(l.dataset.menuOpen)||(m>e?(l.classList.remove(o.Constants.Styles.Animations.yHide,o.Constants.Styles.Animations.yHideNoTransition),l.classList.add(o.Constants.Styles.Animations.yShow)):m<e&&(l.classList.remove(o.Constants.Styles.Animations.yShow),l.classList.add(o.Constants.Styles.Animations.yHide))),m=e}));const e=yield(0,i.waitForElement)(`.nav-gamer:not(.${o.Constants.Styles.SettingsMenu.featureJs})`),t=yield(0,i.waitForElement)(`.${o.Constants.Styles.SettingsMenu.featureJs}`);let a=e.classList.contains("open")||t.classList.contains("open");const n=new MutationObserver((e=>{e.forEach((({target:e,attributeName:t})=>{if("class"===t){const t=e.classList.contains("open");a!==t&&(a=t,l.dataset.menuOpen=t.toString())}}))}));n.observe(e,{attributes:!0,attributeFilter:["style","class"]}),n.observe(t,{attributes:!0,attributeFilter:["style","class"]})})))}))},{"../config":1,"../constants":2,"./helpers/parse":8,"./helpers/wait":10}],15:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0}),a.apply=void 0;const r=e("../constants"),o=e("../scripts/helpers/wait");a.apply=()=>n(void 0,void 0,void 0,(function*(){(yield(0,o.waitForElement)("body",document.documentElement)).classList.add(r.Constants.Styles.root),GM_addStyle('body.trueachievement-extras .ta-x-y-show {\n  transform: translateY(0);\n  transition: transform 0.5s ease;\n}\n\nbody.trueachievement-extras .ta-x-y-hide {\n  transform: translateY(-100%);\n  transition: transform 0.5s ease;\n}\n\nbody.trueachievement-extras .ta-x-y-hide-no-transition {\n  transform: translateY(-100%);\n}\n:root {\n  --ta-x-sticky-header-height: $ta-x-sticky-header-height;\n}\n\nbody.trueachievement-extras .ta-x-hide {\n  display: none;\n}\n\n@media (min-width: 1200px) {\n  body.trueachievement-extras .middle {\n    width: 100%;\n    max-width: 1200px;\n  }\n}\n.trueachievement-extras-online-status {\n  background: #107c10;\n  border: 2px solid #d9d9d9;\n  border-radius: 50%;\n  display: block;\n  position: relative;\n  z-index: 2;\n}\n\n.trueachievement-extras-online-status.trueachievement-extras-friend-feed-online-status {\n  height: 6px;\n  left: 2.8rem;\n  margin-bottom: -4px;\n  margin-right: -10px;\n  top: -1.3rem;\n  width: 6px;\n}\n\n.trueachievement-extras-online-status.trueachievement-extras-achievement-solution-comment-online-status {\n  height: 6px;\n  left: 2.8rem;\n  margin-bottom: -5px;\n  margin-right: -10px;\n  top: -1.3rem;\n  width: 6px;\n}\n\n.trueachievement-extras-online-status.trueachievement-extras-achievement-solution-poster-online-status {\n  height: 12px;\n  left: 8.9rem;\n  margin-bottom: -16px;\n  top: -5rem;\n  width: 12px;\n}\n\n@media only screen and (max-width: 768px) {\n  .trueachievement-extras-online-status.trueachievement-extras-achievement-solution-poster-online-status {\n    height: 6px;\n    left: -1.9rem;\n    margin-bottom: -10px;\n    margin-right: 0;\n    top: -0.2rem;\n    width: 6px;\n  }\n}\n\n.trueachievement-extras-online-status.trueachievement-extras-forum-online-status {\n  height: 12px;\n  left: 2.5rem;\n  margin-bottom: -16px;\n  top: -3rem;\n  width: 12px;\n}\n\n@media only screen and (max-width: 768px) {\n  .trueachievement-extras-online-status.trueachievement-extras-forum-online-status {\n    height: 6px;\n    left: -2rem;\n    margin-bottom: 0;\n    margin-right: -10px;\n    top: 1.3rem;\n    width: 6px;\n  }\n}\n\n[data-theme=dark] .trueachievement-extras-online-status {\n  border: 2px solid #646464;\n}\nbody.trueachievement-extras .ta-x-settings-menu-column-setting {\n  flex-direction: column;\n  align-items: flex-start;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu-column-setting .frm-grp {\n  padding-top: 0.5rem;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu-sub-setting {\n  padding-left: 2rem;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable {\n  flex-wrap: wrap;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable label {\n  flex-basis: 80%;\n  flex-grow: 1;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu-sub-setting-wrapable .frm-tgl {\n  margin-right: 0;\n}\n\nbody.trueachievement-extras .ta-x-settings-menu .close i {\n  pointer-events: none;\n}\n/* stylelint-disable selector-id-pattern, no-descending-specificity */\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements {\n  min-width: unset !important;\n  overflow: auto;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements main {\n  min-height: unset !important;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page {\n  position: unset;\n  display: flex;\n  flex-direction: column;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughPageVersions,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughPagePreview {\n  margin-left: 0;\n  position: unset;\n  width: unset;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divWalkthroughHolder {\n  position: unset;\n  margin-top: unset;\n  height: unset;\n  display: flex;\n  justify-content: space-between;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .buttons {\n  display: flex;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button {\n  display: block;\n  flex-grow: 1;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough {\n  margin: 0;\n  margin-bottom: 3px;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .button#btnSearchWalkthrough:hover {\n  margin-bottom: 5px;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #divSearchWalkthrough .clearboth {\n  display: none;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughs,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughAchievements,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGames,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughGamers,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chWalkthroughOtherSiteLink {\n  position: unset;\n  top: unset;\n  left: unset;\n  display: block;\n  margin: 0;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #chEditWalkthrough {\n  flex: 1;\n  margin: 0 1.5rem;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page #btnWalkthrough {\n  display: none;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container {\n  display: flex;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions {\n  height: 100%;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history {\n  position: relative;\n  top: var(--ta-x-staff-walkthrough-improvements-walkthrough-page-sticky-page-history-top, 0);\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide {\n  transform: translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)));\n  transition: transform 0.5s ease;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPageVersions.ta-x-y-hide-no-transition {\n  transform: translateY(calc(-1 * var(--ta-x-sticky-header-height, 0)));\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container #chWalkthroughPagePreview {\n  flex: 1;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-team-button #chWalkthroughPageVersions .content .buttons {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .button,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .button {\n  flex: 1;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .button:not(:first-of-type),\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .button:not(:first-of-type) {\n  margin-top: 5px;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPageVersions .content .buttons .clearboth,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-team-button #chWalkthroughPageVersions .content .buttons .clearboth {\n  display: none;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPagePreview .content .buttons {\n  display: none;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-walkthrough-page-container.ta-x-staff-walkthrough-improvements-walkthrough-page-edit-page-left #chWalkthroughPagePreview .content .buttons .clearboth {\n  display: none;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-manage-walkthrough-page-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector#oWalkthroughImageViewer {\n  width: 321px;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header {\n  position: sticky;\n  border-bottom: 1px solid #000;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .itemname {\n  padding: 5px;\n  text-align: center;\n  font-size: unset !important;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"] {\n  text-align: center;\n  padding: 5px;\n  cursor: pointer !important;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector a[title="Add images"]:hover {\n  text-decoration: underline;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer {\n  display: flex;\n  flex-wrap: wrap;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer .ivimage {\n  position: unset;\n  margin: 5px;\n  max-width: 46%;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .imageviewer .ivimage .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title {\n  text-align: center;\n  padding-top: 3px;\n  white-space: break-spaces;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-sticky-header {\n  background-color: #2f3740;\n}\n\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .admin-page .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector .ta-x-staff-walkthrough-improvements-edit-walkthrough-page-improved-image-selector-image-title {\n  color: #b5b9bf;\n}\n\n/* stylelint-enable selector-id-pattern, no-descending-specificity */\nbody.trueachievement-extras .ta-x-sticky-header {\n  position: fixed;\n  top: 0;\n  width: 100%;\n}\n')}))},{"../constants":2,"../scripts/helpers/wait":10}],16:[function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function i(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(a,"__esModule",{value:!0}),a.apply=void 0;const r=e("../constants"),o=e("../scripts/helpers/wait"),s=()=>n(void 0,void 0,void 0,(function*(){const e=yield(0,o.waitForElement)("[data-theme]"),t=yield(0,o.waitForElement)("#txtWalkthrough_ifr");t.addEventListener("load",(()=>n(void 0,void 0,void 0,(function*(){const a=t&&t.contentDocument,n=yield(0,o.waitForElement)("#tinymce",a);n.classList.add(r.Constants.Styles.root,r.Constants.Styles.StaffWalkthroughImprovements.featureStyle),n.setAttribute("data-ta-x-theme",e.dataset.theme);const s=a.createElement("style");s.innerHTML="body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] {\n  background-color: #444;\n  color: #bbb;\n  border-color: #555;\n}",a.head.appendChild(s);const i=a.createElement("script");i.innerHTML="window.addEventListener('message', function(event) {\n      document.body.setAttribute('data-ta-x-theme', event.data.theme);\n    });",a.head.appendChild(i),t.removeEventListener("load",this)}))));new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"data-theme"===e.attributeName&&(t.contentWindow.postMessage({theme:e.target.dataset.theme},"*"),document.body.setAttribute("data-ta-x-theme",e.target.dataset.theme))}))})).observe(e,{attributes:!0}),document.body.setAttribute("data-ta-x-theme",e.dataset.theme)}));a.apply=()=>n(void 0,void 0,void 0,(function*(){yield(0,o.waitForElement)('[href*="skin.min.css"]'),document.head,GM_addStyle("/* stylelint-disable selector-id-pattern */\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel {\n  border: 0 solid #232b33;\n  background-color: #404952;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-toolbar-grp {\n  padding: 2px 0;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-title,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-label {\n  color: #b5b9bf;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.75);\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-path-item {\n  color: #b5b9bf;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-i-resize {\n  color: #b5b9bf;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-ico {\n  text-shadow: 1px 1px #000;\n  color: #b5b9bf;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel i.mce-caret {\n  border-top: 4px solid #b5b9bf;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn {\n  border: 1px solid #364049 !important;\n  border-color: #202a33 !important;\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.75);\n  background-color: #4c5761 !important;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-active, body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn:hover,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-active,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn:hover {\n  background-image: none !important;\n  background-color: #004364 !important;\n  border-color: #24292e !important;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn.mce-disabled,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn.mce-disabled {\n  cursor: default;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn button,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn button {\n  padding: 4px 10px;\n  font-size: 14px;\n  cursor: pointer;\n  color: #b5b9bf;\n  text-align: center;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-menubtn button span,\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn button span {\n  color: unset;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-panel .mce-btn-group .mce-btn {\n  border-width: 1px;\n  margin: 0;\n  margin-left: 2px;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu {\n  background: #2f3740;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal .mce-text {\n  color: #ddd;\n  background: transparent !important;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal.mce-selected, body.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal.mce-active {\n  background-color: #0085c7;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal:hover {\n  text-decoration: none;\n  color: #fff;\n  background-color: #006597;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-menu-item-normal .mce-caret {\n  border-left: 4px solid #b5b9bf;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-grid-border a.mce-active {\n  border-color: #d6d6d6;\n  background: #0085c7;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-text-center {\n  color: #ddd;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] .mce-edit-area {\n  border: 1px solid #000 !important;\n  border-right: 0 !important;\n  border-bottom: 0 !important;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer {\n  border: 0 solid #232b33;\n  background-color: #2f3740;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer .imageviewer {\n  background-color: #2f3740;\n}\nbody.trueachievement-extras.ta-x-staff-walkthrough-improvements[data-ta-x-theme=dark] #oWalkthroughImageViewer .itemname {\n  color: #b5b9bf;\n}\n\n/* stylelint-enable selector-id-pattern */"),yield s()}))},{"../constants":2,"../scripts/helpers/wait":10}]},{},[3]);